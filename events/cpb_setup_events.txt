namespace = cpb_setup_event

event = {
	id = cpb_setup_event.1 ##On Game Start
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				has_civic = cpb_civic_rite_of_passage
			}
			capital_scope = {
				planet = {
					add_deposit = cpb_arena_of_blood
				}
			}
		}
	}
}
country_event = { ### Megabank Pulse Event
	id = cpb_setup_event.2
	hide_window = yes
	is_triggered_only = yes
	trigger = {	
		has_civic = cpb_civic_megabank
	}
	immediate = {	
		if = { #1
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 99999
				}
			}
			add_modifier = { modifier = cpb_bank_system_1 days = -1 }
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_9
			remove_modifier = cpb_bank_system_10
		}
		if = { #2
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 199999
				}
			}
			add_modifier = { modifier = cpb_bank_system_2 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_9
			remove_modifier = cpb_bank_system_10
		}
		if = { #3
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 299999
				}
			}
			add_modifier = { modifier = cpb_bank_system_3 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_9
			remove_modifier = cpb_bank_system_10
		}
		if = { #4
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 399999
				}
			}
			add_modifier = { modifier = cpb_bank_system_4 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_9
			remove_modifier = cpb_bank_system_10
		}
		if = { #5
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 499999
				}
			}
			add_modifier = { modifier = cpb_bank_system_5 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_9
			remove_modifier = cpb_bank_system_10
		}
		if = { #6
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 599999
				}
			}
			add_modifier = { modifier = cpb_bank_system_6 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_9
			remove_modifier = cpb_bank_system_10
		}
		if = { #7
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 699999
				}
			}
			add_modifier = { modifier = cpb_bank_system_7 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_9
			remove_modifier = cpb_bank_system_10
		}
		if = { #8
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 799999
				}
			}
			add_modifier = { modifier = cpb_bank_system_8 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_9
			remove_modifier = cpb_bank_system_10
		}
		if = { #9
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 899999
				}
			}
			add_modifier = { modifier = cpb_bank_system_9 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_10
		}
		if = { #10
			limit = {
				has_country_resource = { 
					type = energy 
					amount > 999999
				}
			}
			add_modifier = { modifier = cpb_bank_system_10 days = -1 }
			remove_modifier = cpb_bank_system_1
			remove_modifier = cpb_bank_system_2
			remove_modifier = cpb_bank_system_3
			remove_modifier = cpb_bank_system_4
			remove_modifier = cpb_bank_system_5
			remove_modifier = cpb_bank_system_6
			remove_modifier = cpb_bank_system_7
			remove_modifier = cpb_bank_system_8
			remove_modifier = cpb_bank_system_9
		}
	}
}
planet_event = {
	id = cpb_setup_event.3
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		OR = {
			from = { NOT = { has_valid_civic = cpb_civic_megabank }}
			from = { NOT = { has_valid_civic = cpb_civic_corporate_directorate }}
		}
	}
	immediate = {
		if = {
			limit = {
				from = { NOT = { has_valid_civic = cpb_civic_megabank }}
			}
			if = {
				limit = { has_modifier = cpb_bank_world_colony }
				remove_modifier = cpb_bank_world_colony
			}
		}
		if = {
			limit = {
				from = { NOT = { has_valid_civic = cpb_civic_corporate_directorate }}
			}
			if = {
				limit = { has_modifier = cpb_sold_planet }
				remove_modifier = cpb_sold_planet
			}
		}
	}
}