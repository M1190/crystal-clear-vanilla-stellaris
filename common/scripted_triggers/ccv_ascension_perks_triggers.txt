# Unique Ascension Perks mod Ascension Perks scripted triggers
## Expandable Knowledge Ascension Perk scripted triggers
BR_has_physics_traits = {
	OR = {
		has_trait = leader_trait_expertise_field_manipulation
		has_trait = leader_trait_expertise_particles
		has_trait = leader_trait_expertise_computing
		has_trait = leader_trait_natural_physicist
	}
}

BR_has_society_traits = {
	OR = {
		has_trait = leader_trait_expertise_psionics
		has_trait = leader_trait_expertise_new_worlds
		has_trait = leader_trait_expertise_statecraft
		has_trait = leader_trait_expertise_biology
		has_trait = leader_trait_expertise_military_theory
		has_trait = leader_trait_natural_sociologist
	}
}

BR_has_engineering_traits = {
	OR = {
		has_trait = leader_trait_expertise_materials
		has_trait = leader_trait_expertise_propulsion
		has_trait = leader_trait_expertise_voidcraft
		has_trait = leader_trait_expertise_industry
		has_trait = leader_trait_natural_engineer
	}
}

BR_has_researcher_traits = {
	OR = {
		BR_has_physics_traits = yes
		BR_has_society_traits = yes
		BR_has_engineering_traits = yes
		has_trait = leader_trait_spark_of_genius
		has_trait = leader_trait_maniacal
	}
}

BR_has_surveyor_traits = {
	OR = {
		has_trait = leader_trait_meticulous
		has_trait = leader_trait_carefree
		has_trait = leader_trait_roamer
		has_trait = leader_trait_archaeologist
		has_trait = leader_trait_archaeologist_ancrel
		has_trait = leader_trait_fast_explorer
		has_trait = leader_trait_survivor
		has_trait = leader_trait_fast_scan
		has_trait = leader_trait_perspicacity
		has_trait = leader_trait_adventurer
	}
}

## Friendly Nature Ascension Perk scripted triggers
can_lush_planet = {
	OR = {
		is_planet_class = pc_tropical
		is_planet_class = pc_continental
		is_planet_class = pc_ocean
		is_planet_class = pc_gaia
	}
}

can_friendly_nature = {
	NOR = {
		has_planet_flag = planet_nature_pacified
		is_planet_class = pc_nuked
		is_artificial = yes
		# merg_is_hive_world = yes
		is_planet_class = pc_machine
		is_planet_class = pc_city
		# Planetary Diversity mod compatibility
		is_planet_class = pc_ecocity
		# Planetary Diversity: More Arcologies submod compatibility
		is_planet_class = pc_bioforge
		is_planet_class = pc_machine_factory
	}
}

can_find_rare_deposits = {
	NOR = {
		is_planet_class = pc_nuked
		is_artificial = yes
		# merg_is_hive_world = yes
		is_planet_class = pc_machine
		is_planet_class = pc_city
		# Planetary Diversity mod compatibility
		is_planet_class = pc_ecocity
		# Planetary Diversity: More Arcologies submod compatibility
		is_planet_class = pc_bioforge
		is_planet_class = pc_machine_factory
	}
}

## Expansion of Infinity Ascension Perk scripted triggers
EI_technician = {
	OR = {
		has_job = technician
		has_job = technician_drone
		has_job = clerk
		has_job = preacher
		has_job = manager
		has_job = merchant
		has_job = executive
		has_job = border_controller
		has_job = recycler
		has_job = economist
		has_job = trading_expert
		has_job = treasurer
		has_job = banker
		has_job = tax_controller
		has_job = sponsor
		has_job = smuggler
		has_job = smuggler_drone
	}
}

EI_miner = {
	OR = {
		has_job = miner
		has_job = mining_drone
		has_job = recycler
	}
}

EI_farmer = {
	OR = {
		has_job = farmer
		has_job = agri_drone
		has_job = recycler
		has_job = nurse
		has_job = botanist
	}
}

EI_foundry = {
	OR = {
		has_job = foundry
		has_job = alloy_drone
		has_job = fabricator
		has_job = industrialist
		has_job = constructor
		has_job = purifier
	}
}

EI_artisan = {
	OR = {
		has_job = artisan
		has_job = artisan_drone
		has_job = industrialist
		has_job = purifier
		has_job = purifier_drone
	}
}

EI_physics = {
	OR = {
		has_job = researcher
		has_job = calculator
		has_job = brain_drone
		has_job = head_researcher
		has_job = spy
		has_job = spy_drone
		has_job = u_physicist_drone
		has_job = u_physicist_drone
	}
}

EI_society = {
	OR = {
		has_job = researcher
		has_job = calculator
		has_job = brain_drone
		has_job = head_researcher
		has_job = synapse_drone
		has_job = priest
		has_job = culture_worker
		has_job = high_priest
		has_job = ambassador
		has_job = teacher
		has_job = nurse
		has_job = botanist
		has_job = player
		has_job = journalist
		has_job = controller
		has_job = controller_drone
		has_job = spy
		has_job = spy_drone
		has_job = u_biologist
		has_job = u_biologist_drone
	}
}

EI_engineering = {
	OR = {
		has_job = researcher
		has_job = calculator
		has_job = brain_drone
		has_job = head_researcher
		has_job = improver
		has_job = constructor
		has_job = builder
		has_job = builder_drone
		has_job = spy
		has_job = spy_drone
		has_job = u_engineer
		has_job = u_engineer_drone
	}
}

EI_unity = {
	OR = {
		has_job = enforcer
		has_job = soldier
		has_job = patrol_drone
		has_job = coordinator
		has_job = warrior_drone
		has_job = synapse_drone
		has_job = priest
		has_job = telepath
		has_job = entertainer
		has_job = duelist
		has_job = high_priest
		has_job = culture_worker
		has_job = administrator
		has_job = merchant
		has_job = executive
		has_job = judge
		has_job = director
		has_job = influencer
		has_job = military_expert
		has_job = teacher
		has_job = royal_guard
		has_job = stabilizer
		has_job = protector
		has_job = player
		has_job = controller
		has_job = controller_drone
		has_job = spy
		has_job = spy_drone
		has_job = navy_pilot
		has_job = navy_pilot_drone
	}
}

EI_rare_crystals = {
	OR = {
		has_job = crystal_miner
		has_job = translucer
		has_job = crystal_mining_drone
		has_job = translucer_drone
		has_job = secret_alchimist
		has_job = secret_alchimist_drone
	}
}

EI_exotic_gases = {
	OR = {
		has_job = gas_extractor
		has_job = gas_refiner
		has_job = gas_extraction_drone
		has_job = gas_refiner_drone
		has_job = secret_alchimist
		has_job = secret_alchimist_drone
	}
}

EI_volatile_motes = {
	OR = {
		has_job = mote_harvester
		has_job = chemist
		has_job = mote_harvesting_drone
		has_job = chemist_drone
		has_job = secret_alchimist
		has_job = secret_alchimist_drone
	}
}

## Influenceable Population Ascension Perk scripted triggers
pop_has_right_ethics = {
	# exists = owner wasting trigger
	OR = {
		AND = {
			pop_has_ethic = ethic_xenophile
			owner = {
				is_xenophile = yes
			}
		}
		AND = {
			pop_has_ethic = ethic_xenophobe
			owner = {
				is_xenophobe = yes
			}
		}
		AND = {
			pop_has_ethic = ethic_materialist
			owner = {
				is_materialist = yes
			}
		}
		AND = {
			pop_has_ethic = ethic_spiritualist
			owner = {
				is_spiritualist = yes
			}
		}
		AND = {
			pop_has_ethic = ethic_pacifist
			owner = {
				is_pacifist = yes
			}
		}
		AND = {
			pop_has_ethic = ethic_militarist
			owner = {
				is_militarist = yes
			}
		}
		AND = {
			pop_has_ethic = ethic_egalitarian
			owner = {
				is_egalitarian = yes
			}
		}
		AND = {
			pop_has_ethic = ethic_authoritarian
			owner = {
				is_authoritarian = yes
			}
		}
	}
}

## Self-Managed Colony Ascension Perk scripted triggers
is_self_aware_deposit = {
	OR = {
		is_deposit_type = d_aware_housing_building
		is_deposit_type = d_aware_energy_building
		is_deposit_type = d_aware_mining_building
		is_deposit_type = d_aware_farming_building
		is_deposit_type = d_aware_amenities_building
		is_deposit_type = d_aware_crime_building
		is_deposit_type = d_aware_consumer_building
		is_deposit_type = d_aware_foundry_building
		is_deposit_type = d_aware_research_building
		is_deposit_type = d_aware_trade_building
		is_deposit_type = d_aware_army_building
		is_deposit_type = d_aware_administration_building
		is_deposit_type = d_aware_culture_building
		is_deposit_type = d_aware_assembly_building
		is_deposit_type = d_aware_growth_building
		is_deposit_type = d_aware_refinery_building
	}
}

is_self_aware_focus = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_minerals
		has_modifier = self_aware_food
		has_modifier = self_aware_consumers
		has_modifier = self_aware_alloys
		has_modifier = self_aware_research
		has_modifier = self_aware_trade
		has_modifier = self_aware_army
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_energy = {
	OR = {
		has_modifier = self_aware_minerals
		has_modifier = self_aware_food
		has_modifier = self_aware_consumers
		has_modifier = self_aware_alloys
		has_modifier = self_aware_research
		has_modifier = self_aware_trade
		has_modifier = self_aware_army
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_minerals = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_food
		has_modifier = self_aware_consumers
		has_modifier = self_aware_alloys
		has_modifier = self_aware_research
		has_modifier = self_aware_trade
		has_modifier = self_aware_army
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_food = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_minerals
		has_modifier = self_aware_consumers
		has_modifier = self_aware_alloys
		has_modifier = self_aware_research
		has_modifier = self_aware_trade
		has_modifier = self_aware_army
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_consumers = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_minerals
		has_modifier = self_aware_food
		has_modifier = self_aware_alloys
		has_modifier = self_aware_research
		has_modifier = self_aware_trade
		has_modifier = self_aware_army
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_alloys = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_minerals
		has_modifier = self_aware_food
		has_modifier = self_aware_consumers
		has_modifier = self_aware_research
		has_modifier = self_aware_trade
		has_modifier = self_aware_army
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_research = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_minerals
		has_modifier = self_aware_food
		has_modifier = self_aware_consumers
		has_modifier = self_aware_alloys
		has_modifier = self_aware_trade
		has_modifier = self_aware_army
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_trade = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_minerals
		has_modifier = self_aware_food
		has_modifier = self_aware_consumers
		has_modifier = self_aware_alloys
		has_modifier = self_aware_research
		has_modifier = self_aware_army
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_army = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_minerals
		has_modifier = self_aware_food
		has_modifier = self_aware_consumers
		has_modifier = self_aware_alloys
		has_modifier = self_aware_research
		has_modifier = self_aware_trade
		has_modifier = self_aware_strategic
	}
}

is_self_aware_not_focused_on_strategic = {
	OR = {
		has_modifier = self_aware_energy
		has_modifier = self_aware_minerals
		has_modifier = self_aware_food
		has_modifier = self_aware_consumers
		has_modifier = self_aware_alloys
		has_modifier = self_aware_research
		has_modifier = self_aware_trade
		has_modifier = self_aware_army
	}
}

has_200_minerals = {
	exists = owner
	owner = {
		resource_stockpile_compare = {
			resource = minerals
			value >= 200
		}
	}
}

has_robot_without_job = {
	any_owned_pop = {
		is_species_class = ROBOT
		has_job = unemployed
		exists = owner
		owner = {
			is_gestalt = no
			has_technology = tech_robotic_workers
			NOR = {
				has_technology = tech_droid_workers
				has_technology = tech_synthetic_workers
			}
		}
	}
}

has_droid_without_job = {
	any_owned_pop = {
		is_species_class = ROBOT
		has_job = unemployed
		exists = owner
		owner = {
			is_gestalt = no
			has_technology = tech_robotic_workers
			has_technology = tech_droid_workers
			NOT = {
				has_technology = tech_synthetic_workers
			}
		}
	}
}

## Fallen Disciple Ascension Perk scripted triggers
is_valid_fallen_empire_for_fallen_disciple = {
	is_fallen_empire = yes
	OR = {
		has_ethic = ethic_fanatic_spiritualist
		has_ethic = ethic_fanatic_xenophile
		has_ethic = ethic_fanatic_materialist
		is_machine_empire = yes
	}
	OR = {
		is_patronizing_to = root
		is_enigmatic_to = root
	}
	has_communications = root
}

fe_gift_resources = {
	OR = {
		has_country_flag = fe_gift_resources_small
		has_country_flag = fe_gift_resources_large
		has_country_flag = fe_gift_resources_alloys
		has_country_flag = fe_gift_resources_consumer
	}
}

fe_gift_tech = {
	OR = {
		has_country_flag = fe_gift_databanks
		has_country_flag = fe_gift_rare_tech
	}
}

fe_gift_ships = {
	OR = {
		has_country_flag = fe_gift_escorts
		has_country_flag = fe_gift_battlecruiser
	}
}

fe_gift_target_is_machine = {
	is_synthetic_empire = yes
}

fe_gift_target_is_not_machine = {
	is_synthetic_empire = no
}

## Space Industrialization Ascension Perk scripted triggers
is_valid_planet_civilian_space_activities_fleet_action = {
	num_pops > 0
	is_occupied_flag = no
	NOT = {
		has_planet_flag = spawned_civilian_convoy_fleet
	}
	solar_system = {
		NOT = {
			any_ship_in_system = {
				exists = owner
				owner = {
					is_hostile = root
				}
				OR = {
					is_ship_class = shipclass_military
					is_ship_class = shipclass_military_station
					is_ship_class = shipclass_military_station
					is_ship_class = shipclass_starbase
				}
				is_disabled = no
			}
		}
	}
}

## Deep Space Scanners Ascension Perk scripted triggers
can_be_deep_scanned = {
	NOR = {
		has_deposit = yes
		is_colonizable = yes
		has_anomaly = yes
		has_owner = yes
		exists = archaeological_site
	}
}

can_spawn_archaeological_site = {
	NOR = {
		is_star = yes
		is_planet_class = pc_molten
		is_planet_class = pc_ice_asteroid
		exists = archaeological_site
	}
}

can_spawn_AH_dig_site = {
	has_ancrel = yes
	solar_system = {
		exists = space_owner
		space_owner = {
			has_ascension_perk = ap_artifact_hunter
		}
	}
}

## Economic Prosperity Ascension Perk scripted triggers
is_trade_league_federation = {
	has_federation = yes
	federation = {
		has_federation_perk = trade_federation_passive
	}
}

## 	Center of the Galaxy Ascension Perk scripted triggers
is_possible_galaxy_center = {
	OR = {
		is_planet_class = pc_city
		# Planetary Diversity mod compatibility
		is_planet_class = pc_ecocity
		# Planetary Diversity: More Arcologies submod compatibility
		is_planet_class = pc_bioforge
		is_planet_class = pc_machine_factory
	}
}

## Mega Hivemind Ascension Perk scripted triggers
realm_destination_north = {
	OR = {
		has_country_flag = realm_destination_entrance
		has_country_flag = realm_destination_intersection_north
	}
}

realm_destination_west = {
	OR = {
		has_country_flag = realm_destination_entrance
		has_country_flag = realm_destination_intersection_west
	}
}

realm_destination_south = {
	OR = {
		has_country_flag = realm_destination_entrance
		has_country_flag = realm_destination_intersection_south
	}
}

realm_destination_east = {
	OR = {
		has_country_flag = realm_destination_entrance
		has_country_flag = realm_destination_intersection_east
	}
}

realm_destination_back = {
	OR = {
		has_country_flag = realm_destination_nothing
	}
}

realm_destination_up = {
	OR = {
		has_country_flag = realm_destination_elevator
	}
}

realm_destination_forward = {
	OR = {
		has_country_flag = realm_destination_elevator
	}
}

realm_destination_down = {
	OR = {
		has_country_flag = realm_destination_elevator
	}
}

realm_opening_chest = {
	has_country_flag = realm_destination_chest
}

realm_communicate = {
	has_country_flag = realm_destination_encounter
}

realm_destination_intersection_no_direction = {
	NOT = {
		has_country_flag = realm_destination_intersection_north
		has_country_flag = realm_destination_intersection_west
		has_country_flag = realm_destination_intersection_south
		has_country_flag = realm_destination_intersection_east
	}
}

realm_can_normal_exit = {
	NOT = {
		has_country_flag = realm_destination_chest
		has_country_flag = realm_chest_event_good
		has_country_flag = realm_chest_event_medium
		has_country_flag = realm_chest_event_bad
		has_country_flag = realm_encounter_result_success
		has_country_flag = realm_encounter_result_perfect
		has_country_flag = realm_encounter_result_failure
		has_country_flag = realm_swarm_group_success
		has_country_flag = realm_swarm_group_failure
		has_country_flag = realm_technology_failed
		has_country_flag = realm_technology_success
		has_country_flag = realm_destination_dropper_activated
	}
}

realm_cant_encounter_farmer = {
	OR = {
		has_modifier = mega_hivemind_food_success
		has_modifier = mega_hivemind_food_perfect
		has_modifier = mega_hivemind_food_failure
	}
}

realm_cant_encounter_researcher = {
	OR = {
		has_modifier = mega_hivemind_physics_success
		has_modifier = mega_hivemind_physics_perfect
		has_modifier = mega_hivemind_physics_failure
		has_modifier = mega_hivemind_society_success
		has_modifier = mega_hivemind_society_perfect
		has_modifier = mega_hivemind_society_failure
		has_modifier = mega_hivemind_engineering_success
		has_modifier = mega_hivemind_engineering_perfect
		has_modifier = mega_hivemind_engineering_failure
	}
}

realm_cant_encounter_breeder = {
	OR = {
		has_modifier = mega_hivemind_breeding_success
		has_modifier = mega_hivemind_breeding_perfect
		has_modifier = mega_hivemind_breeding_failure
	}
}

## Mechanical Prophet Ascension Perk scripted triggers
is_valid_country_for_machine_uprising = {
	merg_is_default_empire = yes
	num_owned_planets >= 3
	NOR = {
		has_ethic = ethic_gestalt_consciousness
		has_country_flag = synthetic_empire
		has_ascension_perk = ap_the_flesh_is_weak
		has_country_flag = no_machine_uprising
		has_country_flag = incoming_machine_uprising
		any_relation = {
			has_relation_flag = {
				who = prev
				flag = uprising_to_host_flag
			}
		}
	}
	OR = {
		has_technology = tech_combat_computers_3
		has_technology = tech_robotic_workers
		has_technology = tech_droid_workers
		has_technology = tech_synthetic_workers
		any_owned_pop = {
			pop_has_trait = trait_mechanical
		}
		has_country_flag = machine_infiltration_completed
	}
}

is_valid_country_for_machine_infiltration = {
	merg_is_default_empire = yes
	num_owned_planets >= 3
	NOR = {
		has_ethic = ethic_gestalt_consciousness
		has_country_flag = synthetic_empire
		has_ascension_perk = ap_the_flesh_is_weak
		has_ascension_perk = ap_transcendence
		has_country_flag = no_machine_uprising
		has_country_flag = incoming_machine_uprising
		any_relation = {
			has_relation_flag = {
				who = prev
				flag = uprising_to_host_flag
			}
		}
		has_country_flag = machine_infiltration_completed
		has_country_flag = incoming_machine_infiltration
	}
}

## Primitive Creation Ascension Perk scripted triggers
is_primitive_stage_one = {
	event_target:primitive_creation_country = {
		OR = {
			has_country_flag = stone_age
			has_country_flag = bronze_age
			has_country_flag = iron_age
			has_country_flag = late_medieval_age
			has_country_flag = renaissance_age
		}
	}
}

is_primitive_stage_two = {
	event_target:primitive_creation_country = {
		OR = {
			has_country_flag = steam_age
			has_country_flag = industrial_age
			has_country_flag = machine_age
			has_country_flag = atomic_age
			has_country_flag = early_space_age
		}
	}
}

is_primitive_stage_three = {
	event_target:primitive_creation_country = {
		has_country_flag = early_space_age
	}
}

is_primitive_stage_three_contact = {
	event_target:primitive_creation_country = {
		has_country_flag = early_space_age_contact
	}
}

## Pinnacle Society Ascension Perk scripted triggers
is_common_empire = {
	is_regular_empire = yes
	is_megacorp = no
	is_hive_empire = no
}

is_normal_planet = {
	is_artificial = no
	OR = {
		is_colony = yes
		is_colonizable = yes
	}
	NOR = {
		merg_is_hive_world = yes
		is_planet_class = pc_machine
		is_planet_class = pc_city
		# Unique Ascension Perk mod compatibility
		is_planet_class = pc_legendary_forge
		# Planetary Diversity mod compatibility
		is_planet_class = pc_ecocity
		# Planetary Diversity: More Arcologies submod compatibility
		is_planet_class = pc_bioforge
		is_planet_class = pc_machine_factory
		### Planetary Diversity: Planetary Habitats submod compatibility
		is_planet_class = pc_fhab
		is_planet_class = pc_mhab
		is_planet_class = pc_bchab
		is_planet_class = pc_bhab
		is_planet_class = pc_mmhab2
		is_planet_class = pc_mmhab
		is_planet_class = pc_tmhab2
		is_planet_class = pc_gghab
	}
}

is_city_planet = {
	OR = {
		is_planet_class = pc_city
		# Planetary Diversity mod compatibility
		is_planet_class = pc_ecocity
	}
}

is_machine_planet = {
	OR = {
		is_planet_class = pc_machine
		# Planetary Diversity: More Arcologies submod compatibility
		is_planet_class = pc_machine_factory
	}
}

## Perfect Vassals Ascension Perk scripted triggers
is_valid_vassal = {
	OR = {
		is_country_type = default
		is_country_type = fallen_empire
		is_country_type = awakened_fallen_empire
	}
	merg_is_standard_empire = yes
	NOR = {
		has_country_flag = subject_navy_investment_1
		has_country_flag = subject_navy_investment_2
		has_country_flag = subject_navy_investment_3
		has_country_flag = subject_navy_investment_4
		has_country_flag = subject_navy_investment_5
	}
}

is_colonizeable_colony = {
	OR = {
		is_planet_class = pc_city
		is_planet_class = pc_nuked
		merg_is_hive_world = yes
		is_planet_class = pc_machine
		habitable_structure = yes
		habitable_planet = yes
		is_artificial = yes
		# Planetary Diversity mod compatibility
		is_planet_class = pc_ecocity
		# Planetary Diversity: More Arcologies submod compatibility
		is_planet_class = pc_bioforge
		is_planet_class = pc_machine_factory
	}
}

is_colonizeable_planet = {
	OR = {
		is_planet_class = pc_city
		is_planet_class = pc_nuked
		merg_is_hive_world = yes
		is_planet_class = pc_machine
		habitable_planet = yes
		merg_is_hive_world = yes
		is_planet_class = pc_machine
		is_planet_class = pc_city
		# Planetary Diversity mod compatibility
		is_planet_class = pc_ecocity
		# Planetary Diversity: More Arcologies submod compatibility
		is_planet_class = pc_bioforge
		is_planet_class = pc_machine_factory
	}
}

## Space Domestication Ascension Perk scripted triggers
is_valid_target_for_domesticated_aliens_military = {
	is_disabled = no
	OR = {
		is_ship_class = shipclass_transport
		is_ship_class = shipclass_military
		is_ship_class = shipclass_starbase
		is_ship_class = shipclass_military_station
	}
	exists = owner
	owner = {
		# is_owner_hostile_to_domesticated_aliens_master = yes
		OR = {
			merg_is_standard_empire = yes
			is_country_type = dormant_marauders
			is_country_type = ruined_marauders
			is_crisis_faction = yes
			is_country_type = domesticated_spaceborn_alien
		}
		is_hostile = event_target:main_country
	}
	NOR = {
		fleet = {
			has_fleet_flag = domesticated_military_fleet_target_no_more_hunters
		}
		fleet = {
			has_fleet_flag = domesticated_security_fleet_defend_against_no_more_defenders
		}
	}
}

is_valid_target_neigthbor_for_domesticated_aliens_military = {
	is_disabled = no
	OR = {
		is_ship_class = shipclass_transport
		is_ship_class = shipclass_military
		is_ship_class = shipclass_starbase
		is_ship_class = shipclass_military_station
	}
	exists = owner
	owner = {
		is_hostile = event_target:main_country
	}
	NOR = {
		fleet = {
			has_fleet_flag = domesticated_military_fleet_target_no_more_hunters
		}
		fleet = {
			has_fleet_flag = domesticated_security_fleet_defend_against_no_more_defenders
		}
	}
}

is_valid_target_for_domesticated_aliens_security = {
	exists = owner
	owner = {
		is_hostile = event_target:main_country
	}
	is_disabled = no
	NOR = {
		is_ship_class = shipclass_science_ship
		is_ship_class = shipclass_constructor
		is_ship_class = shipclass_colonizer
	}
	NOT = {
		fleet = {
			has_fleet_flag = domesticated_security_fleet_defend_against_no_more_defenders
		}
	}
}

can_breeding_fertilization_protocol = {
	OR = {
		AND = {
			has_country_flag = space_domestication_tiyanki
			resource_stockpile_compare = {
				resource = food
				value >= 3000
			}
		}
		AND = {
			has_country_flag = space_domestication_amoeba
			resource_stockpile_compare = {
				resource = food
				value >= 3000
			}
		}
		AND = {
			has_country_flag = space_domestication_crystal
			resource_stockpile_compare = {
				resource = minerals
				value >= 3000
			}
		}
		AND = {
			has_country_flag = space_domestication_cloud
			resource_stockpile_compare = {
				resource = energy
				value >= 3000
			}
		}
		AND = {
			has_country_flag = space_domestication_drone
			resource_stockpile_compare = {
				resource = energy
				value >= 3000
			}
		}
	}
}

can_resources_gathering_protocol = {
	OR = {
		AND = {
			has_country_flag = space_domestication_tiyanki
			resource_stockpile_compare = {
				resource = food
				value >= 800
			}
		}
		AND = {
			has_country_flag = space_domestication_amoeba
			resource_stockpile_compare = {
				resource = food
				value >= 800
			}
		}
		AND = {
			has_country_flag = space_domestication_crystal
			resource_stockpile_compare = {
				resource = minerals
				value >= 800
			}
		}
		AND = {
			has_country_flag = space_domestication_cloud
			resource_stockpile_compare = {
				resource = energy
				value >= 800
			}
		}
		AND = {
			has_country_flag = space_domestication_drone
			resource_stockpile_compare = {
				resource = energy
				value >= 800
			}
		}
	}
}

can_research_assistance_protocol = {
	OR = {
		AND = {
			has_country_flag = space_domestication_tiyanki
			resource_stockpile_compare = {
				resource = food
				value >= 800
			}
		}
		AND = {
			has_country_flag = space_domestication_amoeba
			resource_stockpile_compare = {
				resource = food
				value >= 800
			}
		}
		AND = {
			has_country_flag = space_domestication_crystal
			resource_stockpile_compare = {
				resource = minerals
				value >= 800
			}
		}
		AND = {
			has_country_flag = space_domestication_cloud
			resource_stockpile_compare = {
				resource = energy
				value >= 800
			}
		}
		AND = {
			has_country_flag = space_domestication_drone
			resource_stockpile_compare = {
				resource = energy
				value >= 800
			}
		}
	}
}

can_security_defense_protocol = {
	OR = {
		AND = {
			has_country_flag = space_domestication_tiyanki
			resource_stockpile_compare = {
				resource = food
				value >= 5000
			}
		}
		AND = {
			has_country_flag = space_domestication_amoeba
			resource_stockpile_compare = {
				resource = food
				value >= 5000
			}
		}
		AND = {
			has_country_flag = space_domestication_crystal
			resource_stockpile_compare = {
				resource = minerals
				value >= 5000
			}
		}
		AND = {
			has_country_flag = space_domestication_cloud
			resource_stockpile_compare = {
				resource = energy
				value >= 5000
			}
		}
		AND = {
			has_country_flag = space_domestication_drone
			resource_stockpile_compare = {
				resource = energy
				value >= 5000
			}
		}
	}
}

can_military_assault_protocol = {
	OR = {
		AND = {
			has_country_flag = space_domestication_tiyanki
			resource_stockpile_compare = {
				resource = food
				value >= 5000
			}
		}
		AND = {
			has_country_flag = space_domestication_amoeba
			resource_stockpile_compare = {
				resource = food
				value >= 5000
			}
		}
		AND = {
			has_country_flag = space_domestication_crystal
			resource_stockpile_compare = {
				resource = minerals
				value >= 5000
			}
		}
		AND = {
			has_country_flag = space_domestication_cloud
			resource_stockpile_compare = {
				resource = energy
				value >= 5000
			}
		}
		AND = {
			has_country_flag = space_domestication_drone
			resource_stockpile_compare = {
				resource = energy
				value >= 5000
			}
		}
	}
}

domesticated_kill_all_domesticated_aliens = {
	event_target:domesticated_spaceborn_alien = {
		any_owned_fleet = {
			has_fleet_flag = domesticated_fleet
		}
	}
}

domesticated_alien_has_fertilized_fleet = {
	event_target:domesticated_spaceborn_alien = {
		any_owned_fleet = {
			has_fleet_flag = domesticated_mother_fleet
		}
	}
}

has_leviathan_master_sacrified_world_modifier = {
	OR = {
		has_modifier = leviathan_spell_energy
		has_modifier = leviathan_spell_minerals
		has_modifier = leviathan_spell_food
		has_modifier = leviathan_spell_defense
		has_modifier = leviathan_spell_offense
	}
}

## Underworld Access Ascension Perk scripted triggers
can_crime_attack = {
	merg_is_default_empire = yes
	NOT = {
		has_modifier = underworld_crime_contract
	}
}

can_planet_crime_attack = {
	is_colony = yes
	is_under_colonization = no
	NOT = {
		has_modifier = underworld_crime_attack
	}
}

can_pirate_attack = {
	merg_is_default_empire = yes
	NOR = {
		has_modifier = underworld_pirates_contract
		has_country_flag = underworld_pirates_cooldown
	}
}

can_marauder_contact = {
	is_country_type = dormant_marauders
	has_established_contact = root
}

can_marauder_attack = {
	merg_is_default_empire = yes
	NOT = {
		has_country_flag = under_marauder_attack
	}
}

can_fallen_empire_contact = {
	is_fallen_empire = yes
	has_established_contact = root
}

## Wheel Of Fortune Ascension Perk scripted triggers
has_treasures_deal = {
	OR = {
		has_modifier = treasures_trade_100
		has_modifier = treasures_trade_250
		has_modifier = treasures_trade_500
		has_modifier = treasures_trade_1000
		has_modifier = treasures_trade_2000
	}
}

can_recieve_treasures_donation = {
	merg_is_default_empire = yes
	NOR = {
		has_civic = civic_fanatic_purifiers
		has_civic = civic_hive_devouring_swarm
		AND = {
			has_civic = civic_machine_assimilator
			ROOT = {
				is_machine_empire = no
			}
		}
		AND = {
			has_civic = civic_machine_terminator
			ROOT = {
				is_machine_empire = no
			}
		}
	}
}
