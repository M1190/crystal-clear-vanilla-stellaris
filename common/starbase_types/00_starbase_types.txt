#root = starbase
#from = player
# Weights in the ai_design part are multiplied with the base weight of 00_starbase_buildings.txt and 00_starbase_modules.txt
# Then, a random number between that value and and extra 50% of that it is ADDED to it
# F.e. 100 base weight multiplies with 2.00 = 200. Then we take a random number between 0 and 100 (50% of 200) and ADD it to 200. 235 then, for example
# This is done for ALL starbase modules and buildings in the list every time an evaluation is made
# And the building or module with the highest value will be chosen to being built
# The implication of that is that you can not balance the weights TOO FAR from each other - otherwise some modules will never be chosen, unless they are the only thing on the evaluation
# Due to the progression of the game and the unlocking of tech, though, it is often the case that there will only be 1 item on the list at any given time anyway
# Shipyard
sshipyard = {
	potential = {
		has_starbase_size > starbase_outpost
		OR = {
			count_starbase_modules = {
				type = shipyard
				count > 0
			}
			owner = {
				NOT = {
					any_owned_starbase = {
						has_starbase_module = shipyard
					}
				}
			}
		}
	}
	weight_modifier = {
		base = 100
		complex_trigger_modifier = {
			#+100 for each shipyard
			trigger = count_starbase_modules
			parameters = {
				type = shipyard
			}
			mode = add
			mult = 100
		}
		modifier = {
			add = 1000
			owner = {
				NOT = {
					any_owned_starbase = {
						has_starbase_module = shipyard
					}
				}
			}
		}
	}
	ai_design = {
		min = {
			base = 1
			factor = 1
		}
		ratio = {
			base = 0.25
			modifier = {
				add = 0.05
				exists = owner
				owner = {
					has_ethic = ethic_militarist
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					has_ethic = ethic_fanatic_militarist
				}
			}
		}
		# token followed by priority
		buildings = {
			crew_quarters = {
				base = 1
			}
			fleet_academy = {
				base = 2
			}
			titan_yards = {
				base = 2
			}
			colossus_yards = {
				base = 5
			}
			ice_mining_station = {
				base = 1
			}
			dragon_hatchery = {
				base = 5
			}
			hydroponics_bay = {
				base = 1
			}
			space_production = {
				base = 0.5
			}
			deep_space_black_site = {
				base = 0.5
			}
			listening_post = {
				base = 0.25
			}
			transit_hub = {
				base = 0.25
			}
		}
		modules = {
			shipyard = {
				base = 1
			}
			anchorage = {
				base = 0.25
			}
			hangar_bay = {
				base = 0.25
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}

# Anchorage
sanchorage = {
	potential = {
		has_starbase_size > starbase_outpost
		count_starbase_modules = {
			type = anchorage
			count > 0
		}
	}
	weight_modifier = {
		base = 100
		complex_trigger_modifier = {
			#+100 for each anchorage
			trigger = count_starbase_modules
			parameters = {
				type = anchorage
			}
			mode = add
			mult = 100
		}
	}
	ai_design = {
		min = {
			base = 0
			factor = 0
		}
		ratio = {
			base = 0.45
			modifier = {
				add = 0.05
				exists = owner
				owner = {
					has_ethic = ethic_militarist
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					has_ethic = ethic_fanatic_militarist
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					used_naval_capacity_percent > 0.7
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					used_naval_capacity_percent > 0.9
				}
			}
		}
		# token followed by priority
		buildings = {
			naval_logistics_office = {
				base = 10
			}
			defense_grid = {
				base = 0.25
			}
			starbase_fortifications = {
				base = 0.25
			}
			communications_jammer = {
				base = 0.25
			}
			curator_think_tank = {
				base = 2
			}
			art_college = {
				base = 2
			}
			nebula_refinery = {
				base = 2
			}
			dathnak_embassy = {
				base = 2
			}
			ice_mining_station = {
				base = 2
			}
			dragon_hatchery = {
				base = 2
			}
			hydroponics_bay = {
				base = 2
			}
			space_production = {
				base = 1
			}
			deep_space_black_site = {
				base = 1
			}
			listening_post = {
				base = 0.9
			}
			customs_office = {
				base = 0.5
			}
			customs_office_criminal = {
				base = 0.5
			}
			customs_office_gestalt = {
				base = 0.5
			}
			transit_hub = {
				base = 0.5
			}
		}
		modules = {
			anchorage = {
				base = 1
			}
			solar_panel_network = {
				base = 0.25
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}

# Trading Hub
strading_hub = {
	potential = {
		has_starbase_size > starbase_outpost
		count_starbase_modules = {
			type = trading_hub
			count > 0
		}
		exists = owner
		owner = {
			NOT = {
				has_ethic = ethic_gestalt_consciousness
			}
		}
	}
	weight_modifier = {
		base = 100
		complex_trigger_modifier = {
			#+100 for each trading_hub
			trigger = count_starbase_modules
			parameters = {
				type = trading_hub
			}
			mode = add
			mult = 100
		}
	}
	ai_design = {
		min = {
			base = 0
			factor = 0
		}
		ratio = {
			base = 0.3
			modifier = {
				add = 0.05
				exists = owner
				owner = {
					has_ethic = ethic_materialist
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					has_ethic = ethic_fanatic_materialist
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					is_megacorp = yes
				}
			}
		}
		# token followed by priority
		buildings = {
			offworld_trading_company = {
				base = 2
			}
			trade_patrol = {
				base = 1
			}
			customs_office = {
				base = 1
			}
			customs_office_criminal = {
				base = 1
			}
			nebula_refinery = {
				base = 1
			}
			dathnak_embassy = {
				base = 1
			}
			resource_silo = {
				base = 0.25
			}
			art_college = {
				base = 1
			}
			curator_think_tank = {
				base = 1
			}
			trader_proxy_office = {
				base = 2
			}
			ice_mining_station = {
				base = 1
			}
			dragon_hatchery = {
				base = 1
			}
			hydroponics_bay = {
				base = 1
			}
			warp_fluctuator = {
				base = 0.9
			}
			space_production = {
				base = 2
			}
			deep_space_black_site = {
				base = 1
			}
			listening_post = {
				base = 0.5
			}
			defense_grid = {
				base = 0.05
			}
			starbase_fortifications = {
				base = 0.05
			}
			communications_jammer = {
				base = 0.05
			}
			transit_hub = {
				base = 2
			}
		}
		modules = {
			trading_hub = {
				base = 1
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}

# Research System
sresearch = {
	potential = {
		has_starbase_size > starbase_outpost
		has_starbase_module = orbital_lab
	}
	weight_modifier = {
		base = 75
		complex_trigger_modifier = {
			#+100 for each solar_panel_network
			trigger = count_starbase_modules
			parameters = {
				type = orbital_lab
			}
			mode = add
			mult = 100
		}
		modifier = {
			add = 300
			OR = {
				# Black Hole
				star = {
					is_star_class = sc_black_hole
				}
				star = {
					is_star_class = sc_microquasar_1
				}
				star = {
					is_star_class = sc_microquasar_2
				}
				solar_system = {
					any_system_planet = {
						is_planet_class = pc_black_hole
					}
				}
				solar_system = {
					has_natural_wormhole = yes
				}
				# Pulsar
				star = {
					is_star_class = sc_pulsar
				}
				star = {
					is_star_class = sc_magnetar
				}
				solar_system = {
					any_system_planet = {
						is_planet_class = pc_pulsar
					}
				}
				solar_system = {
					any_system_planet = {
						is_planet_class = pc_magnetar
					}
				}
				# Protostar
				star = {
					is_star_class = sc_protostar
				}
				star = {
					is_star_class = sc_tt_red
				}
				star = {
					is_star_class = sc_tt_orange
				}
				star = {
					is_star_class = sc_tt_white
				}
				star = {
					is_star_class = sc_ae
				}
				# Curator
				solar_system = {
					has_star_flag = enclave
					any_fleet_in_system = {
						exists = owner
						owner = {
							has_country_flag = curator_enclave_country
						}
					}
				}
				# Dathnak
				solar_system = {
					any_system_planet = {
						OR = {
							has_planet_flag = baldarak
							has_planet_flag = new_baldarak
						}
					}
				}
			}
		}
	}
	ai_design = {
		min = {
			base = 0
			factor = 0
		}
		ratio = {
			base = 0.1
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					NOR = {
						is_spiritualist = yes
						is_militarist = yes
					}
				}
			}
			modifier = {
				add = 0.05
				exists = owner
				owner = {
					has_ethic = ethic_materialist
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					has_ethic = ethic_fanatic_materialist
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					is_machine_empire = yes
				}
			}
		}
		# token followed by priority
		buildings = {
			orbital_institute = {
				base = 10
			}
			curator_think_tank = {
				base = 8
			}
			black_hole_observatory = {
				base = 6
			}
			protostar_observatory = {
				base = 6
			}
			dathnak_embassy = {
				base = 6
			}
			pulsar_hole_observatory = {
				base = 6
			}
			nebula_refinery = {
				base = 1
			}
			resource_silo = {
				base = 1
			}
			art_college = {
				base = 2
			}
			ice_mining_station = {
				base = 2
			}
			hydroponics_bay = {
				base = 2
			}
			space_production = {
				base = 1
			}
			deep_space_black_site = {
				base = 1
			}
			defense_grid = {
				base = 0.05
			}
			starbase_fortifications = {
				base = 0.05
			}
			communications_jammer = {
				base = 0.05
			}
			transit_hub = {
				base = 2
			}
		}
		modules = {
			orbital_lab = {
				base = 5
			}
			trading_hub = {
				base = 0.25
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}

# Fortress System
sfortress = {
	potential = {
		has_starbase_size > starbase_outpost
		OR = {
			has_starbase_module = gun_battery
			has_starbase_module = missile_battery
			has_starbase_module = hangar_bay
			has_starbase_module = large_battery
			has_starbase_module = extra_large_battery
			has_starbase_module = titanic_battery
		}
	}
	weight_modifier = {
		base = 75
		complex_trigger_modifier = {
			#+75 for each gun_battery
			trigger = count_starbase_modules
			parameters = {
				type = gun_battery
			}
			mode = add
			mult = 75
		}
		complex_trigger_modifier = {
			#+75 for each missile_battery
			trigger = count_starbase_modules
			parameters = {
				type = missile_battery
			}
			mode = add
			mult = 75
		}
		complex_trigger_modifier = {
			#+75 for each hangar_bay
			trigger = count_starbase_modules
			parameters = {
				type = hangar_bay
			}
			mode = add
			mult = 75
		}
		complex_trigger_modifier = {
			#+75 for each hangar_bay
			trigger = count_starbase_modules
			parameters = {
				type = large_battery
			}
			mode = add
			mult = 75
		}
		complex_trigger_modifier = {
			#+75 for each hangar_bay
			trigger = count_starbase_modules
			parameters = {
				type = extra_large_battery
			}
			mode = add
			mult = 100
		}
		complex_trigger_modifier = {
			#+75 for each hangar_bay
			trigger = count_starbase_modules
			parameters = {
				type = titanic_battery
			}
			mode = add
			mult = 125
		}
	}
	ai_design = {
		min = {
			base = 0
			factor = 0
		}
		ratio = {
			base = 0.25
			modifier = {
				add = 0.05
				exists = owner
				owner = {
					has_ethic = ethic_militarist
				}
			}
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					has_ethic = ethic_fanatic_militarist
				}
			}
		}
		# token followed by priority
		buildings = {
			target_uplink_computer = {
				base = 2
			}
			command_center = {
				base = 2
			}
			starbase_minefield = {
				base = 1
			}
			defense_grid = {
				base = 1
			}
			starbase_fortifications = {
				base = 1
			}
			communications_jammer = {
				base = 0.9
			}
			disruption_field = {
				base = 0.9
			}
			ice_mining_station = {
				base = 3
			}
			dragon_hatchery = {
				base = 3
			}
			hydroponics_bay = {
				base = 0.25
			}
			space_production = {
				base = 0.25
			}
			deep_space_black_site = {
				base = 0.25
			}
			customs_office = {
				base = 0.5
			}
			customs_office_criminal = {
				base = 0.5
			}
			customs_office_gestalt = {
				base = 0.5
			}
			warp_fluctuator = {
				base = 0.5
			}
			listening_post = {
				base = 0.5
			}
			trade_patrol = {
				base = 0.5
			}
		}
		modules = {
			hangar_bay = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						is_preferred_weapons = weapon_type_strike_craft
					}
				}
			}
			missile_battery = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						is_preferred_weapons = weapon_type_explosive
					}
				}
			}
			gun_battery = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						OR = {
							is_preferred_weapons = weapon_type_energy
							is_preferred_weapons = weapon_type_kinetic
						}
					}
				}
			}
			large_battery = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						OR = {
							is_preferred_weapons = weapon_type_energy
							is_preferred_weapons = weapon_type_kinetic
						}
					}
				}
			}
			extra_large_battery = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						OR = {
							is_preferred_weapons = weapon_type_energy
							is_preferred_weapons = weapon_type_kinetic
						}
					}
				}
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}

# Trading Hub - Gestalts
strading_hub_gestalt = {
	potential = {
		has_starbase_size > starbase_outpost
		count_starbase_modules = {
			type = solar_panel_network
			count > 0
		}
		exists = owner
		owner = {
			has_ethic = ethic_gestalt_consciousness
		}
	}
	weight_modifier = {
		base = 100
		complex_trigger_modifier = {
			#+100 for each solar_panel_network
			trigger = count_starbase_modules
			parameters = {
				type = solar_panel_network
			}
			mode = add
			mult = 100
		}
	}
	ai_design = {
		min = {
			base = 0
			factor = 0
		}
		ratio = {
			base = 0.2
			modifier = {
				add = 0.05
				exists = owner
				owner = {
					is_machine_empire = yes
				}
			}
			modifier = {
				add = 0.05
				exists = owner
				owner = {
					OR = {
						has_origin = origin_machine
						has_government = gov_machine_industrial
						has_government = gov_resource_collector_mind
					}
				}
			}
		}
		# token followed by priority
		buildings = {
			customs_office_gestalt = {
				base = 1
			}
			nebula_refinery = {
				base = 1
			}
			dathnak_embassy = {
				base = 1
			}
			resource_silo = {
				base = 1
			}
			art_college = {
				base = 1
			}
			curator_think_tank = {
				base = 1
			}
			trader_proxy_office = {
				base = 2
			}
			ice_mining_station = {
				base = 1
			}
			dragon_hatchery = {
				base = 1
			}
			hydroponics_bay = {
				base = 2
			}
			space_production = {
				base = 2
			}
			listening_post = {
				base = 0.5
			}
			defense_grid = {
				base = 0.05
			}
			starbase_fortifications = {
				base = 0.05
			}
			communications_jammer = {
				base = 0.05
			}
			transit_hub = {
				base = 2
			}
		}
		modules = {
			solar_panel_network = {
				base = 1
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}

### ORBITAL RINGS
sorbital_ring = {
	# generic
	potential = {
		is_orbital_ring = yes
	}
	weight_modifier = {
		base = 10
	}
	ai_design = {
		min = {
			base = 0
		}
		modules = {
			orbital_ring_habitation = {
				base = 2
				modifier = {
					factor = 2
					planet = {
						num_free_districts = {
							type = any
							value <= 2
						}
					}
				}
			}
			orbital_ring_shipyard = {
				base = 0.1				# Generally better to use normal starbases for this
			}
			orbital_ring_anchorage = {
				base = 0.1				# Generally better to use normal starbases for this
			}
			orbital_ring_gun_battery = {
				base = 0.25
				modifier = {
					factor = 3
					owner = {
						OR = {
							is_preferred_weapons = weapon_type_energy
							is_preferred_weapons = weapon_type_kinetic
						}
					}
				}
			}
			orbital_ring_missile_battery = {
				base = 0.25
				modifier = {
					factor = 3
					owner = {
						is_preferred_weapons = weapon_type_explosive
					}
				}
			}
			orbital_ring_hangar_bay = {
				base = 0.25
				modifier = {
					factor = 3
					owner = {
						is_preferred_weapons = weapon_type_strike_craft
					}
				}
			}
		}
	}
}

# Shipyard
sorbital_shipyard = {
	potential = {
		is_orbital_ring = yes
		has_starbase_module = orbital_ring_shipyard
	}
	weight_modifier = {
		base = 0
		complex_trigger_modifier = {
			# +100 for each shipyard
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_shipyard
			}
			mode = add
			mult = 100
		}
		modifier = {
			add = 1000
			owner = {
				NOR = {
					any_owned_megastructure = {
						OR = {
							is_megastructure_type = mega_shipyard_1
							is_megastructure_type = mega_shipyard_2
							is_megastructure_type = mega_shipyard_3
							is_megastructure_type = mega_shipyard_restored
						}
					}
					any_owned_starbase = {
						has_starbase_module = shipyard
						has_starbase_module = orbital_ring_shipyard
					}
				}
			}
		}
	}
	ai_design = {
		min = {
			base = 0
		}
		# token followed by priority
		buildings = {
			crew_quarters = {
				base = 1
			}
			fleet_academy = {
				base = 1
			}
			titan_yards = {
				base = 2
			}
			colossus_yards = {
				base = 5
			}
			hydroponics_bay = {
				base = 0.25
			}
			space_production = {
				base = 0.5
			}
			transit_hub = {
				base = 0.25
			}
		}
		modules = {
			shipyard = {
				base = 1
			}
			anchorage = {
				base = 0.25
			}
			hangar_bay = {
				base = 0.25
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}

# Anchorage
sorbital_anchorage = {
	potential = {
		is_orbital_ring = yes
		has_starbase_module = orbital_ring_anchorage
	}
	weight_modifier = {
		base = 0
		complex_trigger_modifier = {
			# +100 for each anchorage
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_anchorage
			}
			mode = add
			mult = 100
		}
	}
	ai_design = {
		min = {
			base = 0
		}
		ratio = {
			base = 0.35
			modifier = {
				add = 0.1
				exists = owner
				owner = {
					is_militarist = yes
				}
			}
		}
		# token followed by priority
		buildings = {
			naval_logistics_office = {
				base = 10
			}
			defense_grid = {
				base = 0.25
			}
			starbase_fortifications = {
				base = 0.25
			}
			communications_jammer = {
				base = 0.25
			}
			nebula_refinery = {
				base = 2
			}
			hydroponics_bay = {
				base = 1
			}
			space_production = {
				base = 1
			}
			transit_hub = {
				base = 0.5
			}
		}
		modules = {
			anchorage = {
				base = 1
			}
			stellar_reducer = {
				base = 1
			}
			orbital_ring_habitation = {
				base = 0
				modifier = {
					add = 1
					planet = {
						num_free_districts = {
							type = any
							value <= 2
						}
					}
				}
			}
		}
	}
}

# Fortress System
sorbital_fortress = {
	potential = {
		is_orbital_ring = yes
		OR = {
			has_starbase_module = orbital_ring_gun_battery
			has_starbase_module = orbital_ring_missile_battery
			has_starbase_module = orbital_ring_hangar_bay
			has_starbase_module = orbital_ring_large_battery
			has_starbase_module = orbital_ring_extra_large_battery
			has_starbase_module = orbital_ring_titanic_battery
		}
	}
	weight_modifier = {
		base = 0
		complex_trigger_modifier = {
			# +75 for each gun_battery
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_gun_battery
			}
			mode = add
			mult = 75
		}
		complex_trigger_modifier = {
			# +75 for each missile_battery
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_missile_battery
			}
			mode = add
			mult = 75
		}
		complex_trigger_modifier = {
			# +75 for each hangar_bay
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_hangar_bay
			}
			mode = add
			mult = 75
		}
		complex_trigger_modifier = {
			# +75 for each hangar_bay
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_large_battery
			}
			mode = add
			mult = 75
		}
		complex_trigger_modifier = {
			# +75 for each hangar_bay
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_extra_large_battery
			}
			mode = add
			mult = 100
		}
		complex_trigger_modifier = {
			# +75 for each hangar_bay
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_titanic_battery
			}
			mode = add
			mult = 125
		}
	}
	ai_design = {
		min = {
			base = 0
		}
		ratio = {
			base = 0.25
			modifier = {
				add = 0.15
				exists = owner
				owner = {
					is_militarist = yes
				}
			}
		}
		# token followed by priority
		buildings = {
			target_uplink_computer = {
				base = 2
			}
			command_center = {
				base = 2
			}
			defense_grid = {
				base = 1
			}
			starbase_fortifications = {
				base = 1
			}
			communications_jammer = {
				base = 0.9
			}
			disruption_field = {
				base = 0.9
			}
			hydroponics_bay = {
				base = 0.25
			}
			space_production = {
				base = 0.25
			}
		}
		modules = {
			hangar_bay = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						is_preferred_weapons = weapon_type_strike_craft
					}
				}
			}
			missile_battery = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						is_preferred_weapons = weapon_type_explosive
					}
				}
			}
			gun_battery = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						OR = {
							is_preferred_weapons = weapon_type_energy
							is_preferred_weapons = weapon_type_kinetic
						}
					}
				}
			}
			orbital_ring_large_battery = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						OR = {
							is_preferred_weapons = weapon_type_energy
							is_preferred_weapons = weapon_type_kinetic
						}
					}
				}
			}
			orbital_ring_extra_large_battery = {
				base = 1
				modifier = {
					factor = 3
					owner = {
						OR = {
							is_preferred_weapons = weapon_type_energy
							is_preferred_weapons = weapon_type_kinetic
						}
					}
				}
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}

sorbital_habitation = {
	potential = {
		is_orbital_ring = yes
		has_starbase_module = orbital_ring_habitation
	}
	weight_modifier = {
		base = 0
		complex_trigger_modifier = {
			# +75 for each habitation module
			trigger = count_starbase_modules
			parameters = {
				type = orbital_ring_habitation
			}
			mode = add
			mult = 75
		}
	}
	ai_design = {
		min = {
			base = 1
		}
		ratio = {
			base = 0.5
			modifier = {
				add = 0.25
				exists = owner
				owner = {
					is_pacifist = yes
				}
			}
		}
		# token followed by priority
		buildings = {
			ring_synapse_hub = {
				base = 1
			}
			ring_maintenance_hub = {
				base = 1
			}
			ring_bureaucracy_hub = {
				base = 0
				modifier = {
					add = 3
					planet = {
						OR = {
							has_designation = col_bureau
							has_designation = col_bureau_spiritualist
							has_designation = col_bureau_hive
							has_designation = col_bureau_machine
							has_building = building_sensorium_1
							has_building = building_autochthon_monument
							has_building = building_corporate_monument
							has_building = building_galactic_memorial_1
							has_building = building_simulation_1
						}
					}
				}
			}
			ring_minerals_hub = {
				base = 0
				modifier = {
					add = 3
					planet = {
						OR = {
							has_designation = col_mining
							has_building = building_mineral_purification_plant
							has_building = building_mineral_purification_hub
						}
					}
				}
			}
			ring_energy_hub = {
				base = 0
				modifier = {
					add = 3
					planet = {
						OR = {
							has_designation = col_generator
							has_building = building_energy_grid
							has_building = building_energy_nexus
						}
					}
				}
			}
			ring_food_hub = {
				base = 0
				modifier = {
					add = 3
					planet = {
						OR = {
							has_designation = col_farming
							has_building = building_food_processing_facility
							has_building = building_food_processing_center
						}
					}
				}
			}
			climate_control = {
				base = 3
			}
			ring_consumer_goods_hub = {
				base = 0
				modifier = {
					add = 3
					planet = {
						OR = {
							has_designation = col_factory
							has_designation = col_industrial
							has_designation = col_ecu_factory
							has_designation = col_ecu_industrial
							has_designation = col_mac_factory
							has_building = building_factory_1
							has_building = building_factory_2
							has_building = building_factory_3
						}
					}
				}
			}
			ring_super_computer = {
				base = 0
				modifier = {
					add = 3
					planet = {
						OR = {
							has_designation = col_refinery
							num_buildings = {
								type = building_refinery
								value >= 2
							}
							num_buildings = {
								type = building_crystal_plant
								value >= 2
							}
							num_buildings = {
								type = building_chemical_plant
								value >= 2
							}
						}
					}
				}
			}
			ring_nanite_refinery = {
				base = 0
				modifier = {
					add = 3
					planet = {
						OR = {
							has_designation = col_research
							has_designation = col_ecu_research
							has_building = building_institute
							has_building = building_supercomputer
						}
					}
				}
			}
			ring_alloys_hub = {
				base = 0
				modifier = {
					add = 3
					planet = {
						OR = {
							has_designation = col_foundry
							has_designation = col_industrial
							has_designation = col_ecu_foundry
							has_designation = col_ecu_industrial
							has_designation = col_mac_foundry
							has_designation = col_hiv_foundry
							has_building = building_foundry_1
							has_building = building_foundry_2
							has_building = building_foundry_3
						}
					}
				}
			}
			ring_trade_hub = {
				base = 1
				modifier = {
					add = 2
					planet = {
						OR = {
							has_designation = col_city
							has_building = building_galactic_stock_exchange
						}
					}
				}
			}
			ring_security_center = {
				base = 1
			}
			space_production = {
				base = 2
			}
			dathnak_embassy = {
				base = 2
			}
			transit_hub = {
				base = 2
			}
		}
		modules = {
			orbital_ring_habitation = {
				base = 1
			}
			stellar_reducer = {
				base = 1
			}
		}
	}
}
