infiltration_choose_target_types = {
	#Government asset
	random_list = {
		10 = {
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_official
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_official
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_official
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_official
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					NOR = {
						has_authority = auth_imperial
						has_authority = auth_dictatorial
					}
				}
			}
			modifier = {
				factor = 2
				target = {
					has_valid_civic = civic_aristocratic_elite
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_noble
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_noble
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_noble
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_noble
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					NOT = {
						has_authority = auth_dictatorial
					}
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_officer
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_officer
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_officer
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_officer
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					NOT = {
						has_authority = auth_democratic
					}
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_politican
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_politican
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_politican
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_politican
		}
	}
	#Diplomacy asset
	random_list = {
		10 = {
			modifier = {
				factor = 0
				target = {
					is_homicidal = yes
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_diplomat
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_diplomat
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_diplomat
					}
				}
			}
			if = {
				limit = {
					target = {
						has_embassy = root.owner
					}
				}
				set_espionage_operation_flag = asset_infilitrator_diplomat
			}
			else = {
				set_espionage_operation_flag = asset_infilitrator_diplomat_backchannel
			}
		}
		10 = {
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_spy
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_spy
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_spy
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_spy
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					OR = {
						has_ethic = ethic_authoritarian
						has_ethic = ethic_fanatic_authoritarian
						has_valid_civic = civic_police_state
					}
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_journalist
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_journalist
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_journalist
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_journalist
		}
	}
	#Economy asset
	random_list = {
		10 = {
			modifier = {
				factor = 0
				target = {
					OR = {
						has_authority = auth_corporate
						has_valid_civic = civic_shared_burden
					}
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_ceo
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_ceo
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_ceo
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_ceo
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					NOT = { has_authority = auth_corporate }
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_manager
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_manager
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_manager
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_manager
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					NOT = { has_authority = auth_corporate }
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_executive
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_executive
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_executive
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_executive
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					NOT = { has_valid_civic = civic_shared_burden }
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_labor_organizer
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_labor_organizer
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_labor_organizer
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_labor_organizer
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					NOT = { has_valid_civic = civic_shared_burden }
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_resource_coordinator
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_resource_coordinator
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_resource_coordinator
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_resource_coordinator
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					has_valid_civic = civic_shared_burden
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_economist
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_economist
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_economist
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_economist
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					OR = {
						has_authority = auth_corporate
						has_valid_civic = civic_shared_burden
					}
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_banker
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_banker
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_banker
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_banker
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					OR = {
						has_authority = auth_corporate
						has_valid_civic = civic_shared_burden
						has_valid_civic = civic_merchant_guilds
					}
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_regulator
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_regulator
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_regulator
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_regulator
		}
		50 = {
			modifier = {
				factor = 0
				target = {
					NOT = {
						has_valid_civic = civic_merchant_guilds
					}
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_lobbyist
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_lobbyist
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_lobbyist
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_lobbyist
		}
	}
	#Technology
	random_list = {
		10 = {
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_scientist
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_scientist
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_scientist
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_scientist
		}
		10 = {
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_academic
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_academic
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_academic
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_academic
		}
	}
	#Military
	random_list = {
		10 = {
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_fleet_commander
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_fleet_commander
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_fleet_commander
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_fleet_commander
		}
		10 = {
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_army_commander
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_army_commander
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_army_commander
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_army_commander
		}
		10 = {
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_military_advisor
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_military_advisor
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_military_advisor
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_military_advisor
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					has_valid_civic = civic_shared_burden
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_security_contractor
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_security_contractor
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_security_contractor
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_security_contractor
		}
		10 = {
			modifier = {
				factor = 0
				target = {
					OR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
						has_authority = auth_dictatorial
						has_authority = auth_imperial
					}
				}
			}
			modifier = {
				factor = 2
				target = {
					OR = {
						has_ethic = ethic_pacifist
						has_ethic = ethic_fanatic_pacifist
					}
				}
			}
			modifier = {
				factor = 0.1
				spynetwork = {
					has_espionage_asset = asset_infilitrator_civilian_official
				}
			}
			modifier = {
				factor = 0.3
				any_spynetwork = {
					owner = prev.owner
					NOT = {
						target = prev.target
					}
					has_espionage_asset = asset_infilitrator_civilian_official
				}
				NOT = {
					spynetwork = {
						has_espionage_asset = asset_infilitrator_civilian_official
					}
				}
			}
			set_espionage_operation_flag = asset_infilitrator_civilian_official
		}
	}
}

clear_non_government_asset_flags = {
	remove_diplomacy_asset_flags = yes
	remove_economy_asset_flags = yes
	remove_technology_asset_flags = yes
	remove_military_asset_flags = yes
	set_espionage_operation_flag = government_infiltrator_intel
}

clear_non_diplomacy_asset_flags = {
	remove_government_asset_flags = yes
	remove_economy_asset_flags = yes
	remove_technology_asset_flags = yes
	remove_military_asset_flags = yes
	set_espionage_operation_flag = diplomacy_infiltrator_intel
}

clear_non_economy_asset_flags = {
	remove_government_asset_flags = yes
	remove_diplomacy_asset_flags = yes
	remove_technology_asset_flags = yes
	remove_military_asset_flags = yes
	set_espionage_operation_flag = economy_infiltrator_intel
}

clear_non_technology_asset_flags = {
	remove_government_asset_flags = yes
	remove_diplomacy_asset_flags = yes
	remove_economy_asset_flags = yes
	remove_military_asset_flags = yes
	set_espionage_operation_flag = technology_infiltrator_intel
}

clear_non_military_asset_flags = {
	remove_government_asset_flags = yes
	remove_diplomacy_asset_flags = yes
	remove_economy_asset_flags = yes
	remove_technology_asset_flags = yes
	set_espionage_operation_flag = military_infiltrator_intel
}

remove_government_asset_flags = {
	remove_espionage_operation_flag = asset_infilitrator_official
	remove_espionage_operation_flag = asset_infilitrator_noble
	remove_espionage_operation_flag = asset_infilitrator_officer
	remove_espionage_operation_flag = asset_infilitrator_politican
}

remove_diplomacy_asset_flags = {
	remove_espionage_operation_flag = asset_infilitrator_diplomat
	remove_espionage_operation_flag = asset_infilitrator_diplomat_backchannel
	remove_espionage_operation_flag = asset_infilitrator_journalist
	remove_espionage_operation_flag = asset_infilitrator_spy
}

remove_economy_asset_flags = {
	remove_espionage_operation_flag = asset_infilitrator_ceo
	remove_espionage_operation_flag = asset_infilitrator_manager
	remove_espionage_operation_flag = asset_infilitrator_executive
	remove_espionage_operation_flag = asset_infilitrator_labor_organizer
	remove_espionage_operation_flag = asset_infilitrator_resource_coordinator
	remove_espionage_operation_flag = asset_infilitrator_economist
	remove_espionage_operation_flag = asset_infilitrator_banker
	remove_espionage_operation_flag = asset_infilitrator_regulator
	remove_espionage_operation_flag = asset_infilitrator_lobbyist
}

remove_technology_asset_flags = {
	remove_espionage_operation_flag = asset_infilitrator_scientist
	remove_espionage_operation_flag = asset_infilitrator_academic
}

remove_military_asset_flags = {
	remove_espionage_operation_flag = asset_infilitrator_fleet_commander
	remove_espionage_operation_flag = asset_infilitrator_army_commander
	remove_espionage_operation_flag = asset_infilitrator_military_advisor
	remove_espionage_operation_flag = asset_infilitrator_security_contractor
	remove_espionage_operation_flag = asset_infilitrator_civilian_official
}

set_infiltrator_asset_flags_for_check = {
	if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_official
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_official
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_noble
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_noble
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_officer
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_officer
			}
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_politican
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_politican
		}
	}
	else_if = {
		limit = {
			from = {
				OR = {
					has_espionage_operation_flag = asset_infilitrator_diplomat
					has_espionage_operation_flag = asset_infilitrator_diplomat_backchannel
				}
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_diplomat
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_spy
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_spy
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_journalist
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_journalist
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_ceo
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_ceo
			}
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_manager
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_manager
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_executive
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_executive
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_labor_organizer
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_labor_organizer
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_resource_coordinator
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_resource_coordinator
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_economist
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_economist
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_banker
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_banker
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_regulator
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_regulator
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_lobbyist
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_lobbyist
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_scientist
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_scientist
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_academic
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_academic
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_fleet_commander
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_fleet_commander
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_army_commander
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_army_commander
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_military_advisor
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_military_advisor
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_security_contractor
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_security_contractor
		}
	}
	else_if = {
		limit = {
			from = {
				has_espionage_operation_flag = asset_infilitrator_civilian_official
			}
		}
		from.spynetwork = {
			set_spynetwork_flag = asset_infilitrator_civilian_official
		}
	}
}

create_infiltrator_asset = {
	if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_official
		}
		create_espionage_asset = { type = asset_infilitrator_official }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_noble
			}
		create_espionage_asset = { type = asset_infilitrator_noble }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_officer
		}
		create_espionage_asset = { type = asset_infilitrator_officer }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_politican
		}
		create_espionage_asset = { type = asset_infilitrator_politican }
	}
	else_if = {
		limit = {
			OR = {
				has_spynetwork_flag = asset_infilitrator_diplomat
				has_spynetwork_flag = asset_infilitrator_diplomat_backchannel
			}
		}
		create_espionage_asset = { type = asset_infilitrator_diplomat }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_spy
		}
		create_espionage_asset = { type = asset_infilitrator_spy }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_journalist
		}
		create_espionage_asset = { type = asset_infilitrator_journalist }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_ceo
		}
		create_espionage_asset = { type = asset_infilitrator_ceo }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_manager
		}
		create_espionage_asset = { type = asset_infilitrator_manager }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_executive
		}
		create_espionage_asset = { type = asset_infilitrator_executive }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_labor_organizer
		}
		create_espionage_asset = { type = asset_infilitrator_labor_organizer }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_resource_coordinator
		}
		create_espionage_asset = { type = asset_infilitrator_resource_coordinator }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_economist
		}
		create_espionage_asset = { type = asset_infilitrator_economist }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_banker
		}
		create_espionage_asset = { type = asset_infilitrator_banker }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_regulator
		}
		create_espionage_asset = { type = asset_infilitrator_regulator }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_lobbyist
		}
		create_espionage_asset = { type = asset_infilitrator_lobbyist }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_scientist
		}
		create_espionage_asset = { type = asset_infilitrator_scientist }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_academic
		}
		create_espionage_asset = { type = asset_infilitrator_academic }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_fleet_commander
		}
		create_espionage_asset = { type = asset_infilitrator_fleet_commander }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_army_commander
		}
		create_espionage_asset = { type = asset_infilitrator_army_commander }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_military_advisor
		}
		create_espionage_asset = { type = asset_infilitrator_military_advisor }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_security_contractor
		}
		create_espionage_asset = { type = asset_infilitrator_security_contractor }
	}
	else_if = {
		limit = {
			has_spynetwork_flag = asset_infilitrator_civilian_official
		}
		create_espionage_asset = { type = asset_infilitrator_civilian_official }
	}
	remove_spynetwork_flag = asset_infilitrator_official
	remove_spynetwork_flag = asset_infilitrator_noble
	remove_spynetwork_flag = asset_infilitrator_officer
	remove_spynetwork_flag = asset_infilitrator_politican
	remove_spynetwork_flag = asset_infilitrator_diplomat
	remove_spynetwork_flag = asset_infilitrator_spy
	remove_spynetwork_flag = asset_infilitrator_journalist
	remove_spynetwork_flag = asset_infilitrator_ceo
	remove_spynetwork_flag = asset_infilitrator_manager
	remove_spynetwork_flag = asset_infilitrator_executive
	remove_spynetwork_flag = asset_infilitrator_labor_organizer
	remove_spynetwork_flag = asset_infilitrator_resource_coordinator
	remove_spynetwork_flag = asset_infilitrator_economist
	remove_spynetwork_flag = asset_infilitrator_banker
	remove_spynetwork_flag = asset_infilitrator_regulator
	remove_spynetwork_flag = asset_infilitrator_lobbyist
	remove_spynetwork_flag = asset_infilitrator_scientist
	remove_spynetwork_flag = asset_infilitrator_academic
	remove_spynetwork_flag = asset_infilitrator_fleet_commander
	remove_spynetwork_flag = asset_infilitrator_army_commander
	remove_spynetwork_flag = asset_infilitrator_military_advisor
	remove_spynetwork_flag = asset_infilitrator_security_contractor
	remove_spynetwork_flag = asset_infilitrator_civilian_official
}

set_proper_planet_class_for_species = {
	#Normal dry
	if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_desert_preference
			}
		}
		change_pc = pc_desert
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_arid_preference
			}
		}
		change_pc = pc_arid
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_savannah_preference
			}
		}
		change_pc = pc_savannah
	}
	#Normal wet
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_tropical_preference
			}
		}
		change_pc = pc_tropical
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_continental_preference
			}
		}
		change_pc = pc_continental
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_ocean_preference
			}
		}
		change_pc = pc_ocean
	}
	#Normal cold
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_arctic_preference
			}
		}
		change_pc = pc_arctic
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_tundra_preference
			}
		}
		change_pc = pc_tundra
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_alpine_preference
			}
		}
		change_pc = pc_alpine
	}
	#PD dry
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_outback_preference
			}
		}
		change_pc = pc_outback
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_coastal_preference
			}
		}
		change_pc = pc_coastal
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_steppe_preference
			}
		}
		change_pc = pc_steppe
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_sandsea_preference
			}
		}
		change_pc = pc_sandsea
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_oasis_preference
			}
		}
		change_pc = pc_oasis
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_mesa_preference
			}
		}
		change_pc = pc_mesa
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_mesa_preference
			}
		}
		change_pc = pc_mesa
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_badlands_preference
			}
		}
		change_pc = pc_badlands
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_hadesert_preference
			}
		}
		change_pc = pc_hadesert
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_prairie_preference
			}
		}
		change_pc = pc_prairie
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_veld_preference
			}
		}
		change_pc = pc_veld
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_semiarid_preference
			}
		}
		change_pc = pc_semiarid
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_med_preference
			}
		}
		change_pc = pc_med
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_tidallylocked_preference
			}
		}
		change_pc = pc_tidallylocked
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_supercon_preference
			}
		}
		change_pc = pc_supercon
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_primal_preference
			}
		}
		change_pc = pc_primal
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_salt_preference
			}
		}
		change_pc = pc_salt
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_aquifer_preference
			}
		}
		change_pc = pc_aquifer
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_coral_preference
			}
		}
		change_pc = pc_coral
	}
	#PD wet
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_cascadian_preference
			}
		}
		change_pc = pc_cascadian
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_desertislands_preference
			}
		}
		change_pc = pc_desertislands
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_subarctic_preference
			}
		}
		change_pc = pc_subarctic
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_mangrove_preference
			}
		}
		change_pc = pc_mangrove
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_wetswamp_preference
			}
		}
		change_pc = pc_wetswamp
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_fog_preference
			}
		}
		change_pc = pc_fog
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_hajungle_preference
			}
		}
		change_pc = pc_hajungle
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_cenote_preference
			}
		}
		change_pc = pc_cenote
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_retinal_preference
			}
		}
		change_pc = pc_retinal
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_forest_preference
			}
		}
		change_pc = pc_forest
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_lake_preference
			}
		}
		change_pc = pc_lake
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_tepid_preference
			}
		}
		change_pc = pc_tepid
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_geothermal_preference
			}
		}
		change_pc = pc_geothermal
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_superhabitable_preference
			}
		}
		change_pc = pc_superhabitable
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_biolumen_preference
			}
		}
		change_pc = pc_biolumen
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_karst_preference
			}
		}
		change_pc = pc_karst
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_reef_preference
			}
		}
		change_pc = pc_reef
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_megaflora_preference
			}
		}
		change_pc = pc_megaflora
	}
	#PD cold
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_highland_preference
			}
		}
		change_pc = pc_highland
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_duneforest_preference
			}
		}
		change_pc = pc_duneforest
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_swamp_preference
			}
		}
		change_pc = pc_swamp
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_mud_preference
			}
		}
		change_pc = pc_mud
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_basalt_preference
			}
		}
		change_pc = pc_basalt
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_frozen_desert_preference
			}
		}
		change_pc = pc_frozen_desert
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_glacial_preference
			}
		}
		change_pc = pc_glacial
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_boreal_preference
			}
		}
		change_pc = pc_boreal
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_mushroom_preference
			}
		}
		change_pc = pc_mushroom
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_antarctic_preference
			}
		}
		change_pc = pc_antarctic
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_aeolian_preference
			}
		}
		change_pc = pc_aeolian
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_snow_preference
			}
		}
		change_pc = pc_snow
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_storm_preference
			}
		}
		change_pc = pc_storm
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_eyeball_preference
			}
		}
		change_pc = pc_eyeball
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_glacio_preference
			}
		}
		change_pc = pc_glacio
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_lanthanide_preference
			}
		}
		change_pc = pc_lanthanide
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_rogue_preference
			}
		}
		change_pc = pc_rogue
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_lichen_preference
			}
		}
		change_pc = pc_lichen
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_aquatic_preference
			}
		}
		change_pc = pc_aquatic
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_aquatic_preference
			}
		}
		change_pc = pc_aquatic
	}
	#PD exotic
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_irradiated_preference
			}
		}
		change_pc = pc_irradiated
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_methane_preference
			}
		}
		change_pc = pc_methane
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_ammonia_preference
			}
		}
		change_pc = pc_ammonia
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_sulfur_preference
			}
		}
		change_pc = pc_sulfur
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_acid_preference
			}
		}
		change_pc = pc_acid
	}
	else_if = {
		limit = {
			$TARGET$ = {
				has_trait = trait_pc_ash_preference
			}
		}
		change_pc = pc_ash
	}
}