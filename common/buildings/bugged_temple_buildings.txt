##########
# NORMAL #
##########
building_temple = {
	base_buildtime = @b1_time
	category = unity
	potential = {
		exists = owner
		owner = {
			is_spiritualist = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_spiritualist = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_1
		building_hive_node
		building_uplink_node
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b1_minerals
		}
		upkeep = {
			energy = @b1_upkeep
		}
	}
	planet_modifier = {
		job_priest_add = 1
		pop_ethic_spiritualist_attraction_mult = 0.05
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = no
			}
		}
		modifier = {
			job_priest_add = 1
		}
	}
	triggered_desc = {
		text = job_priest_effect_desc
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		modifier = {
			job_manager_add = 1
		}
	}
	#Bug Branch
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 1
		}
	}
	#Normal Code
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		text = job_manager_effect_desc
	}
	#Bug Branch
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
	#Normal Code
	upgrades = {
		building_holotemple
	}
	prerequisites = {
		"tech_cultural_heritage"
	}
	show_tech_unlock_if = {
		is_spiritualist = yes
	}
}

building_holotemple = {
	base_buildtime = @b2_time
	can_build = no
	category = unity
	potential = {
		exists = owner
		owner = {
			is_spiritualist = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	allow = {
		has_upgraded_capital = yes
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_spiritualist = no
			}
			has_modifier = slave_colony
			buildings_no_crystals = yes
		}
	}
	convert_to = {
		building_bureaucratic_2
		building_hive_cluster
		building_network_junction
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			rare_crystals = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			rare_crystals = @b2_rare_upkeep
		}
	}
	planet_modifier = {
		job_priest_add = 2
		pop_ethic_spiritualist_attraction_mult = 0.1
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = no
			}
		}
		modifier = {
			job_priest_add = 2
		}
	}
	triggered_desc = {
		text = job_priest_effect_desc
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		modifier = {
			job_manager_add = 2
		}
	}
	#Bug Branch
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 2
		}
	}
	#Normal Code
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		text = job_manager_effect_desc
	}
	#Bug Branch
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				OR = {
					is_bugged_militant_zealots = yes
				}
			}
		}
		text = job_bugged_templar_effect_desc
	}
	#Normal Code
	upgrades = {
		building_sacred_nexus
	}
	prerequisites = {
		"tech_holographic_rituals"
	}
	show_tech_unlock_if = {
		is_spiritualist = yes
	}
}

building_sacred_nexus = {
	base_buildtime = @b3_time
	can_build = no
	category = unity
	potential = {
		exists = owner
		owner = {
			is_spiritualist = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	allow = {
		has_major_upgraded_capital = yes
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_spiritualist = no
			}
			has_modifier = slave_colony
			buildings_no_crystals = yes
		}
	}
	convert_to = {
		building_bureaucratic_3
		building_hive_confluence
		building_system_conflux
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			rare_crystals = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			rare_crystals = @b3_rare_upkeep
		}
	}
	planet_modifier = {
		job_priest_add = 3
		pop_ethic_spiritualist_attraction_mult = 0.15
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = no
			}
		}
		modifier = {
			job_priest_add = 3
		}
	}
	triggered_desc = {
		text = job_priest_effect_desc
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		modifier = {
			job_manager_add = 3
		}
	}
	#Bug Branch
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		modifier = {
			job_high_priest_add = 2
		}
	}
	#Normal Code
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		text = job_manager_effect_desc
	}
	#Bug Branch
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		text = job_high_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
	#Normal Code
	prerequisites = {
		"tech_consecration_fields"
	}
	show_tech_unlock_if = {
		is_spiritualist = yes
	}
}

###################
# LUMINOSITY CULT #
###################
# Altar Of Light
building_bugged_light_temple_1 = {
	base_buildtime = @b1_time
	position_priority = 100
	base_cap_amount = 5
	category = unity
	potential = {
		exists = owner
		owner = {
			is_bugged_luminosity_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_luminosity_cult = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_1
		building_temple
		building_hive_node
		building_uplink_node
	}
	planet_modifier = {
		job_bugged_luminosity_priest_add = 2
		pop_ethic_spiritualist_attraction_mult = 0.05
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 1
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b1_minerals
		}
		upkeep = {
			energy = @b1_upkeep
		}
	}
	upgrades = {
		building_bugged_light_temple_2
	}
	prerequisites = {
		"tech_cultural_heritage"
	}
	show_tech_unlock_if = {
		is_bugged_luminosity_cult = yes
	}
	triggered_desc = {
		text = job_bugged_luminosity_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
}

# Prismatic Holotemple
building_bugged_light_temple_2 = {
	base_buildtime = @b2_time
	can_build = no
	position_priority = 100
	category = unity
	potential = {
		exists = owner
		owner = {
			is_bugged_luminosity_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_luminosity_cult = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_1
		building_temple
		building_hive_node
		building_uplink_node
	}
	planet_modifier = {
		job_bugged_luminosity_priest_add = 4
		pop_ethic_spiritualist_attraction_mult = 0.1
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 2
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			exotic_gases = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			exotic_gases = @b3_rare_upkeep
		}
	}
	upgrades = {
		building_bugged_light_temple_3
	}
	prerequisites = {
		"tech_holographic_rituals"
	}
	show_tech_unlock_if = {
		is_bugged_luminosity_cult = yes
	}
	triggered_desc = {
		text = job_bugged_luminosity_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
}

# Grand Astral Temple
building_bugged_light_temple_3 = {
	base_buildtime = @b3_time
	can_build = no
	position_priority = 100
	category = unity
	potential = {
		exists = owner
		owner = {
			is_bugged_luminosity_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	allow = {
		has_major_upgraded_capital = yes
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_luminosity_cult = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_1
		building_temple
		building_hive_node
		building_uplink_node
	}
	planet_modifier = {
		job_bugged_luminosity_priest_add = 6
		pop_ethic_spiritualist_attraction_mult = 0.15
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		modifier = {
			job_high_priest_add = 2
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			exotic_gases = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			exotic_gases = @b3_rare_upkeep
			volatile_motes = @b2_rare_upkeep
		}
	}
	prerequisites = {
		"tech_consecration_fields"
	}
	show_tech_unlock_if = {
		is_bugged_luminosity_cult = yes
	}
	triggered_desc = {
		text = job_bugged_luminosity_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		text = job_high_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
}

##############
# DEATH CULT #
##############
# Sacrificial Temple (basic)
building_sacrificial_temple_1 = {
	base_buildtime = @b1_time
	position_priority = 100
	category = unity
	potential = {
		exists = owner
		owner = {
			is_death_cult_empire = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_death_cult_empire = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_1
		building_temple
		building_hive_node
		building_uplink_node
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b1_minerals
		}
		upkeep = {
			energy = @b1_upkeep
		}
	}
	planet_modifier = {
		pop_ethic_spiritualist_attraction_mult = 0.05
		job_death_priest_add = 1
		job_mortal_initiate_add = 1
	}
	#Bug Branch
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 1
		}
	}
	#Normal Code
	triggered_desc = {
		text = job_death_priest_effect_desc
	}
	triggered_desc = {
		text = job_mortal_initiate_effect_desc
	}
	#Bug Branch
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
	#Normal Code
	prerequisites = {
		"tech_cultural_heritage"
	}
	upgrades = {
		building_sacrificial_temple_2
	}
	show_tech_unlock_if = {
		is_death_cult_empire = yes
	}
}

# Grim Holotemple
building_sacrificial_temple_2 = {
	base_buildtime = @b2_time
	can_build = no
	position_priority = 100
	category = unity
	potential = {
		exists = owner
		NOT = {
			has_modifier = slave_colony
		}
		owner = {
			is_death_cult_empire = yes
		}
	}
	allow = {
		exists = owner
		has_upgraded_capital = yes
		owner = {
			is_death_cult_empire = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			buildings_no_exotic_gases = yes
			owner = {
				is_death_cult_empire = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_2
		building_holotemple
		building_hive_cluster
		building_network_junction
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			exotic_gases = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			exotic_gases = @b3_rare_upkeep
		}
	}
	planet_modifier = {
		pop_ethic_spiritualist_attraction_mult = 0.1
		job_death_priest_add = 1
		job_mortal_initiate_add = 1
	}
	#Bug Branch
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 2
		}
	}
	#Normal Code
	triggered_desc = {
		text = job_death_priest_effect_desc
	}
	triggered_desc = {
		text = job_mortal_initiate_effect_desc
	}
	#Bug Branch
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
	#Normal Code
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = no
			}
		}
		modifier = {
			job_death_priest_add = 1
			job_mortal_initiate_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		modifier = {
			job_manager_add = 2
		}
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		text = job_manager_effect_desc
	}
	prerequisites = {
		"tech_holographic_rituals"
	}
	upgrades = {
		building_sacrificial_temple_3
	}
	show_tech_unlock_if = {
		is_death_cult_empire = yes
	}
}

# Temple of Grand Sacrifice
building_sacrificial_temple_3 = {
	base_buildtime = @b3_time
	can_build = no
	position_priority = 100
	category = unity
	potential = {
		exists = owner
		owner = {
			is_death_cult_empire = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	allow = {
		has_major_upgraded_capital = yes
	}
	destroy_trigger = {
		exists = owner
		OR = {
			buildings_no_exotic_gases = yes
			owner = {
				is_death_cult_empire = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_hypercomms_forum
		building_hive_confluence
		building_simulation_3
		building_corporate_forum
		building_sacred_nexus
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			exotic_gases = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			exotic_gases = @b3_rare_upkeep
			volatile_motes = @b2_rare_upkeep
		}
	}
	planet_modifier = {
		pop_ethic_spiritualist_attraction_mult = 0.15
		job_death_priest_add = 2
		job_mortal_initiate_add = 2
	}
	#Bug Branch
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		modifier = {
			job_high_priest_add = 2
		}
	}
	#Normal Code
	triggered_desc = {
		text = job_death_priest_effect_desc
	}
	triggered_desc = {
		text = job_mortal_initiate_effect_desc
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = no
			}
		}
		modifier = {
			job_death_priest_add = 1
			job_mortal_initiate_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		modifier = {
			job_manager_add = 2
		}
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_megacorp = yes
			}
		}
		text = job_manager_effect_desc
	}
	#Bug Branch
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		text = job_high_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
	#Normal Code
	prerequisites = {
		"tech_consecration_fields"
	}
	show_tech_unlock_if = {
		is_death_cult_empire = yes
	}
}

############
# WAR CULT #
############
# Altar Of Battle
building_bugged_war_temple_1 = {
	base_buildtime = @b1_time
	position_priority = 100
	base_cap_amount = 5
	category = unity
	potential = {
		exists = owner
		owner = {
			is_bugged_war_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_war_cult = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_1
		building_temple
		building_hive_node
		building_uplink_node
	}
	planet_modifier = {
		job_bugged_warrior_priest_add = 1
		pop_ethic_spiritualist_attraction_mult = 0.05
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 1
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b1_minerals
		}
		upkeep = {
			energy = @b1_upkeep
		}
	}
	upgrades = {
		building_bugged_war_temple_2
	}
	prerequisites = {
		"tech_cultural_heritage"
	}
	show_tech_unlock_if = {
		is_bugged_war_cult = yes
	}
	triggered_desc = {
		text = job_bugged_warrior_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
}

#Hawkish Holotemple
building_bugged_war_temple_2 = {
	base_buildtime = @b2_time
	can_build = no
	position_priority = 100
	category = unity
	potential = {
		exists = owner
		owner = {
			is_bugged_war_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_war_cult = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_1
		building_temple
		building_hive_node
		building_uplink_node
	}
	planet_modifier = {
		job_bugged_warrior_priest_add = 2
		pop_ethic_spiritualist_attraction_mult = 0.1
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 2
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			exotic_gases = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			exotic_gases = @b3_rare_upkeep
		}
	}
	upgrades = {
		building_bugged_war_temple_3
	}
	prerequisites = {
		"tech_holographic_rituals"
	}
	show_tech_unlock_if = {
		is_bugged_war_cult = yes
	}
	triggered_desc = {
		text = job_bugged_warrior_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
}

# Grand Temple Of The Blade
building_bugged_war_temple_3 = {
	base_buildtime = @b3_time
	can_build = no
	position_priority = 100
	category = unity
	potential = {
		exists = owner
		owner = {
			is_bugged_war_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	allow = {
		has_major_upgraded_capital = yes
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_war_cult = no
			}
			has_modifier = slave_colony
		}
	}
	convert_to = {
		building_bureaucratic_1
		building_temple
		building_hive_node
		building_uplink_node
	}
	planet_modifier = {
		job_bugged_warrior_priest_add = 3
		pop_ethic_spiritualist_attraction_mult = 0.15
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_bugged_templar_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		modifier = {
			job_high_priest_add = 2
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			exotic_gases = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			exotic_gases = @b3_rare_upkeep
			volatile_motes = @b2_rare_upkeep
		}
	}
	prerequisites = {
		"tech_consecration_fields"
	}
	show_tech_unlock_if = {
		is_bugged_war_cult = yes
	}
	triggered_desc = {
		text = job_bugged_warrior_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		text = job_high_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
}

################
# GRAVITY CULT #
################
#Gravitic Abbey
building_bugged_gravity_monastery = {
	base_buildtime = 360
	base_cap_amount = 1
	category = unity
	potential = {
		owner = {
			is_bugged_gravity_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_gravity_cult = no
			}
			has_modifier = slave_colony
		}
	}
	allow = {
		always = yes
	}
	upgrades = {
		"building_bugged_gravity_monastery_two"
	}
	convert_to = {
		building_bugged_life_monastery
		building_bugged_mecha_monastery
	}
	planet_modifier = {
		job_bugged_gravity_priest_add = 3
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}
	show_tech_unlock_if = {
		is_bugged_gravity_cult = yes
	}
	triggered_desc = {
		text = job_bugged_gravity_priest_effect_desc
	}
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			free_jobs > 0
		}
	}
}

#Sanctorium Of Reality's Tears
building_bugged_gravity_monastery_two = {
	base_buildtime = 360
	can_build = no
	category = unity
	potential = {
		owner = {
			is_bugged_gravity_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			buildings_no_exotic_gases = yes
			owner = {
				is_bugged_gravity_cult = no
			}
			has_modifier = slave_colony
		}
	}
	prerequisites = {
		tech_sensors_3
	}
	allow = {
		always = yes
	}
	convert_to = {
		building_bugged_life_monastery_two
		building_bugged_mecha_monastery_two
	}
	planet_modifier = {
		job_bugged_priest_of_the_dark_sun_add = 1
		job_bugged_gravity_priest_add = 4
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			exotic_gases = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			exotic_gases = @b2_rare_upkeep
		}
	}
	triggered_desc = {
		text = job_bugged_priest_of_the_dark_sun_effect_desc
	}
	triggered_desc = {
		text = job_bugged_gravity_priest_effect_desc
	}
	show_tech_unlock_if = {
		is_bugged_gravity_cult = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 0
			free_jobs > 0
		}
	}
}

#############
# LIFE CULT #
#############
#Gene Cloister
building_bugged_life_monastery = {
	base_buildtime = 360
	base_cap_amount = 1
	category = pop_assembly
	potential = {
		owner = {
			is_bugged_life_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_life_cult = no
			}
			has_modifier = slave_colony
		}
	}
	allow = {
		always = yes
	}
	upgrades = {
		"building_bugged_life_monastery_two"
	}
	convert_to = {
		building_bugged_gravity_monastery
		building_bugged_mecha_monastery
	}
	planet_modifier = {
		job_bugged_lifescribe_add = 3
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}
	triggered_desc = {
		text = job_bugged_lifescribe_effect_desc
	}
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			free_jobs > 0
		}
	}
}

#Archive Of Life
building_bugged_life_monastery_two = {
	base_buildtime = 360
	can_build = no
	category = pop_assembly
	potential = {
		owner = {
			is_bugged_life_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			buildings_no_motes = yes
			owner = {
				is_bugged_life_cult = no
			}
			has_modifier = slave_colony
		}
	}
	prerequisites = {
		tech_gene_tailoring
	}
	allow = {
		always = yes
	}
	convert_to = {
		building_bugged_gravity_monastery_two
		building_bugged_mecha_monastery_two
	}
	planet_modifier = {
		job_bugged_herald_of_lifes_path_add = 1
		job_bugged_lifescribe_add = 4
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			volatile_motes = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			volatile_motes = @b2_rare_upkeep
		}
	}
	triggered_desc = {
		text = job_bugged_herald_of_lifes_path_effect_desc
	}
	triggered_desc = {
		text = job_bugged_lifescribe_effect_desc
	}
	show_tech_unlock_if = {
		is_bugged_life_cult = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 0
			free_jobs > 0
		}
	}
}

################
# MACHINE CULT #
################
#Mecha-Monastery
building_bugged_mecha_monastery = {
	base_buildtime = 360
	base_cap_amount = 1
	category = pop_assembly
	potential = {
		owner = {
			is_bugged_machine_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_bugged_machine_cult = no
			}
			has_modifier = slave_colony
		}
	}
	allow = {
		always = yes
	}
	upgrades = {
		"building_bugged_mecha_monastery_two"
	}
	convert_to = {
		building_bugged_gravity_monastery
		building_bugged_life_monastery
	}
	planet_modifier = {
		job_bugged_techno_priest_add = 3
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}
	triggered_desc = {
		text = job_bugged_techno_priest_effect_desc
	}
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			free_jobs > 0
		}
	}
}

#Mecha-Repositorium
building_bugged_mecha_monastery_two = {
	base_buildtime = 360
	can_build = no
	category = pop_assembly
	potential = {
		owner = {
			is_bugged_machine_cult = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	destroy_trigger = {
		exists = owner
		OR = {
			buildings_no_crystals = yes
			owner = {
				is_bugged_machine_cult = no
			}
			has_modifier = slave_colony
		}
	}
	prerequisites = {
		tech_droid_workers
	}
	allow = {
		always = yes
	}
	convert_to = {
		building_bugged_gravity_monastery_two
		building_bugged_life_monastery_two
	}
	planet_modifier = {
		job_bugged_intricate_techno_priest_add = 1
		job_bugged_techno_priest_add = 4
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			rare_crystals = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			rare_crystals = @b2_rare_upkeep
		}
	}
	triggered_desc = {
		text = job_bugged_intricate_techno_priest_effect_desc
	}
	triggered_desc = {
		text = job_bugged_techno_priest_effect_desc
	}
	show_tech_unlock_if = {
		is_bugged_machine_cult = yes
	}
	ai_weight = {
		weight = 100
		modifier = {
			factor = 0
			free_jobs > 0
		}
	}
}

####################
# CITADEL OF FAITH #
####################
building_citadel_of_faith = {
	base_buildtime = @b2_time
	base_cap_amount = 1
	category = unity
	potential = {
		exists = owner
		owner = {
			is_spiritualist = yes
		}
		NOT = {
			has_modifier = slave_colony
		}
	}
	allow = {
		has_fully_upgraded_capital = yes
	}
	destroy_trigger = {
		exists = owner
		OR = {
			owner = {
				is_spiritualist = no
			}
			has_modifier = slave_colony
			buildings_no_crystals = yes
		}
	}
	convert_to = {
		building_autocurating_vault
		building_alpha_hub
		building_corporate_vault
	}
	planet_modifier = {
		job_priest_add = 4
		job_high_priest_add = 1
		pop_ethic_spiritualist_attraction_mult = 0.2
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		modifier = {
			job_priest_add = -2
			job_bugged_templar_add = 2
			job_high_priest_add = 1
			pop_ethic_spiritualist_attraction_mult = 0.2
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_spiritual_seekers = yes
			}
		}
		modifier = {
			job_bugged_transcended_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		modifier = {
			job_high_priest_add = 1
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			rare_crystals = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			rare_crystals = @b2_rare_upkeep
		}
	}
	prerequisites = {
		"tech_transcendent_faith"
	}
	triggered_desc = {
		text = job_priest_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_governmental_spiritualist = yes
			}
		}
		text = job_bugged_transcended_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_bugged_militant_zealots = yes
			}
		}
		text = job_bugged_templar_effect_desc
	}
	triggered_desc = {
		text = job_high_priest_effect_desc
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 1
			buildings_has_crystals = yes
			owner = {
				has_monthly_income = {
					resource = consumer_goods
					value > 8
				}
			}
		}
		modifier = {
			factor = 0
			owner = {
				has_country_flag = buildings_new_crystal_building
			}
		}
	}
}
