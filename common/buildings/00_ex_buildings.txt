building_psi_academy = {
	base_buildtime = 480
	base_cap_amount = 1
	category = research
	allow = {
		has_upgraded_capital = yes
	}
	potential = {
		owner = {
			is_regular_empire = yes
		}
		NOT = {
			owner = {
				has_valid_civic = civic_astral_obsession
			}
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 4
		}
	}
	planet_modifier = {
		job_expsion_per_pop = 0.04
		job_politician_add = 1
		planet_housing_add = 4
	}
	prerequisites = {
		"tech_psionic_studies"
	}
	triggered_desc = {
		text = job_academy_effect_desc
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	upgrades = {
		"building_psi_academy_2"
	}
	ai_weight = {
		weight = 1
	}
}

building_psi_academy_2 = {
	base_buildtime = 480
	can_build = no
	category = research
	allow = {
		has_upgraded_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 1200
		}
		upkeep = {
			energy = 6
		}
	}
	planet_modifier = {
		job_expsion_per_pop = 0.05
		job_politician_add = 2
		planet_housing_add = 8
	}
	prerequisites = {
		"tech_telepathy"
	}
	triggered_desc = {
		text = job_academy_effect_desc		#job_expsion_effect_desc
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	upgrades = {
		"building_psi_academy_3"
	}
	ai_weight = {
		weight = 1
	}
}

building_psi_academy_3 = {
	base_buildtime = 480
	can_build = no
	category = research
	allow = {
		has_major_upgraded_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 1600
		}
		upkeep = {
			energy = 8
		}
	}
	planet_modifier = {
		job_extelekinetic_add = 1
		job_expsion_per_pop = 0.05
		job_politician_add = 3
		planet_housing_add = 10
	}
	prerequisites = {
		"tech_universal_psionics"
	}
	triggered_desc = {
		text = job_academy3_effect_desc
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	ai_weight = {
		weight = 1
	}
}

building_fantasiahub = {
	base_buildtime = 480
	base_cap_amount = 1
	category = research
	potential = {
		OR = {
			has_modifier = resort_colony
			#has_modifier = experimental_complex
		}
	}
	allow = {
		has_upgraded_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 5
		}
	}
	planet_modifier = {
		planet_amenities_add = 15
	}
	country_modifier = {
		pop_happiness = 0.05
		diplo_weight_mult = 0.05
		diplo_weight_economy_mult = 0.15
	}
	prerequisites = {
		"tech_immersive_simulations"
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	upgrades = {
		"building_fantasiahub2"
	}
	ai_weight = {
		weight = 1
	}
}

building_fantasiahub2 = {
	base_buildtime = 480
	#base_cap_amount = 1
	can_build = no
	category = research
	potential = {
		OR = {
			has_modifier = resort_colony
			#has_modifier = experimental_complex
		}
	}
	allow = {
		has_upgraded_capital = yes
	}
	planet_modifier = {
		planet_amenities_add = 30
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_mega_engineering
			}
		}
		modifier = {
			#planet_amenities_add = 30
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 10
		}
	}
	country_modifier = {
		pop_happiness = 0.1
		diplo_weight_mult = 0.1
		diplo_weight_economy_mult = 0.3
	}
	prerequisites = {
		"tech_perfect_simulations"
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	upgrades = {
		#"building_fantasiahub3"
	}
	ai_weight = {
		weight = 1
	}
}

building_panopticon = {
	base_buildtime = 480
	base_cap_amount = 1
	category = government
	potential = {
		OR = {
			has_modifier = penal_colony
		}
	}
	allow = {
		has_upgraded_capital = yes
	}
	planet_modifier = {
		pop_housing_usage_mult = -0.1
		planet_jobs_produces_mult = 0.1
	}
	country_modifier = {
		planet_crime_mult = -0.1
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 5
		}
	}
	prerequisites = {
		"tech_tracking_implants"
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	upgrades = {
		"building_panopticon2"
	}
	ai_weight = {
		weight = 1000
	}
}

building_panopticon2 = {
	base_buildtime = 480
	can_build = no
	category = government
	potential = {
		OR = {
			has_modifier = penal_colony
		}
	}
	allow = {
		has_upgraded_capital = yes
	}
	planet_modifier = {
		pop_housing_usage_mult = -0.15
		planet_jobs_produces_mult = 0.15
	}
	country_modifier = {
		planet_crime_mult = -0.2
		planet_stability_add = 5
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 6
		}
	}
	prerequisites = {
		"tech_thought_enforcement"
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	ai_weight = {
		weight = 1000
	}
}

building_arbiter_tower = {
	base_buildtime = 480
	base_cap_amount = 1
	category = planet_buildings
	potential = {
		owner = {
			is_regular_empire = yes
			has_valid_civic = civic_astral_obsession
		}
	}
	allow = {
		has_upgraded_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 1
		}
	}
	planet_modifier = {
		planet_housing_add = 2
		job_exarbiter_add = 1
	}
	prerequisites = {
		"tech_telepathy"
	}
	triggered_desc = {
		text = job_exarbiter_effect_desc
	}
	show_tech_unlock_if = {
		has_valid_civic = civic_astral_obsession
	}
	upgrades = {
		#"building_enginespire2"
	}
	ai_weight = {
		weight = 1
	}
}

building_cult_chamber = {
	base_buildtime = 480
	base_cap_amount = 1
	category = planet_buildings
	potential = {
		owner = {
			is_regular_empire = yes
			has_valid_civic = civic_astral_obsession
		}
	}
	allow = {
		has_upgraded_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 1
		}
	}
	planet_modifier = {
		planet_housing_add = 4
		job_exzealot_add = 1
	}
	prerequisites = {
		"tech_psionic_studies"
	}
	triggered_desc = {
		text = job_exzealot_effect_desc
	}
	show_tech_unlock_if = {
		has_valid_civic = civic_astral_obsession
	}
	upgrades = {
		#"building_enginespire2"
	}
	ai_weight = {
		weight = 1
	}
}

building_enginespire = {
	base_buildtime = 480
	base_cap_amount = 1
	category = research
	potential = {
		owner = {
			is_regular_empire = yes
			has_valid_civic = civic_engineering_world
		}
	}
	allow = {
		has_upgraded_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 3
		}
	}
	planet_modifier = {
		job_exgrandsmith_add = 1
		job_extinker_add = 2
	}
	prerequisites = {
		#"tech_construction_centre"
	}
	triggered_desc = {
		text = job_enginespire_effect_desc
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	upgrades = {
		#"building_enginespire2"
	}
	ai_weight = {
		weight = 1
	}
}

building_industrialnightmare = {
	base_buildtime = 1300
	base_cap_amount = 1
	category = planet_buildings
	allow = {
		has_upgraded_capital = yes
	}
	potential = {
		NOT = {
			is_planet_class = pc_habitat
		}
		NOT = {
			is_planet_class = pc_ringworld_habitable
		}
		NOT = {
			has_modifier = resort_colony
		}
		owner = {
			has_valid_civic = civic_decadent_conglomerate
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			alloys = 3000
			influence = 500
		}
		upkeep = {
			unity = 15
		}
	}
	planet_modifier = {
		pop_environment_tolerance = -0.1
		pop_happiness = -0.075
		planet_jobs_minerals_produces_mult = 0.2
		planet_jobs_energy_produces_mult = 0.2
		job_exemployee_add = 10
	}
	prerequisites = {
		#"tech_ascension_theory"
	}
	triggered_desc = {
		text = job_industrialnightmare_effect_desc
	}
	upgrades = {
		"building_industrialnightmare2"
	}
	show_tech_unlock_if = {
		has_valid_civic = civic_decadent_conglomerate
	}
	ai_weight = {
		weight = 100
	}
}

building_industrialnightmare2 = {
	base_buildtime = 650
	can_build = no
	category = planet_buildings
	allow = {
		has_upgraded_capital = yes
	}
	potential = {
		NOT = {
			is_planet_class = pc_habitat
		}
		NOT = {
			is_planet_class = pc_ringworld_habitable
		}
		NOT = {
			has_modifier = resort_colony
		}
		owner = {
			has_valid_civic = civic_decadent_conglomerate
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			alloys = 1000
			influence = 50
		}
		upkeep = {
			unity = 12
		}
	}
	planet_modifier = {
		pop_happiness = -0.05
		planet_jobs_minerals_produces_mult = 0.2
		planet_jobs_energy_produces_mult = 0.2
		job_exemployee_add = 10
	}
	prerequisites = {
		"tech_climate_restoration"
	}
	triggered_desc = {
		text = job_industrialnightmare_effect_desc
	}
	upgrades = {
		"building_industrialnightmare3"
	}
	show_tech_unlock_if = {
		has_valid_civic = civic_decadent_conglomerate
	}
	ai_weight = {
		weight = 100
	}
}

building_industrialnightmare3 = {
	base_buildtime = 650
	can_build = no
	category = planet_buildings
	allow = {
		has_upgraded_capital = yes
	}
	potential = {
		NOT = {
			is_planet_class = pc_habitat
		}
		NOT = {
			is_planet_class = pc_ringworld_habitable
		}
		NOT = {
			has_modifier = resort_colony
		}
		owner = {
			has_valid_civic = civic_decadent_conglomerate
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			alloys = 1000
			influence = 50
		}
		upkeep = {
			unity = 10
		}
	}
	planet_modifier = {
		planet_jobs_minerals_produces_mult = 0.25
		planet_jobs_energy_produces_mult = 0.25
		job_exemployee_add = 15
	}
	prerequisites = {
		"tech_mega_engineering"
	}
	triggered_desc = {
		text = job_industrialnightmare_effect_desc
	}
	show_tech_unlock_if = {
		has_valid_civic = civic_decadent_conglomerate
	}
	ai_weight = {
		weight = 100
	}
}

gene_complex = {
	base_buildtime = 400
	category = pop_assembly
	base_cap_amount = 1
	potential = {
		exists = owner
		NOT = {
			has_modifier = resort_colony
		}
		OR = {
			owner = {
				is_ai = no
			}
			NOT = {
				exists = assembling_species
			}
			assembling_species = {
				is_organic_species = yes
			}
			NAND = {
				free_district_slots = 0
				free_building_slots <= 1
				free_housing <= 0
				free_jobs <= 0
			}
		}
	}
	destroy_trigger = {
		exists = owner
		owner = {
			is_ai = yes
		}
		free_district_slots = 0
		free_building_slots = 0
		free_housing <= 0
		free_jobs <= 0
	}
	planet_modifier = {
		planet_pop_assembly_organic_add = 2
	}
	resources = {
		category = planet_buildings
		# Base cost
		cost = {
			influence = 50
			minerals = 500
		}
		# Org/Lith cost
		cost = {
			trigger = {
				exists = owner
				owner = {
					is_lithoid_empire = no
				}
			}
			food = 500
		}
		cost = {
			trigger = {
				exists = owner
				owner = {
					is_lithoid_empire = yes
				}
			}
			energy = 500
		}
		# Base upkeep
		upkeep = {
			energy = 2
		}
		# Org/Lith upkeep
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_lithoid_empire = no
				}
			}
			food = 10
			energy = 5
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					is_lithoid_empire = yes
				}
			}
			minerals = 10
			energy = 5
		}
	}
	triggered_desc = {
		trigger = {
			OR = {
				has_building = building_robot_assembly_plant
				AND = {
					exists = assembling_species
					assembling_species = {
						is_robotic_species = yes
					}
				}
			}
		}
		text = tooltip_organic_and_artificial_assembly_warning
	}
}
