##########################################################################
# Decisions
##########################################################################

decision_lithoid_prospect = {
	owned_planets_only = yes
	icon = decision_prospect
	enactment_time = 360
	resources = {
		category = decisions
		cost = {
			energy = 1000
		}
	}
	
	potential = {
		is_homeworld = no
		is_artificial = no
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_hive }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_relic }
		owner = {
			is_lithoid_empire = yes
		}
		NOT = { has_planet_flag = planet_lithoid_prospected }
	}
	
	allow = {
		NOT = { has_modifier = delicate_ecosystem }
		NOT = { has_modifier = resort_colony }
		custom_tooltip = decision_lithoid_prospect_trigger
		hidden_trigger = {
			OR = {
				has_deposit = d_lichen_fields
				has_deposit = d_bountiful_plains
				has_deposit = d_rugged_woods
				has_deposit = d_green_hills
				has_deposit = d_forgiving_tundra
				has_deposit = d_boggy_fens
				has_deposit = d_nutritious_mudland
				has_deposit = d_fungal_caves
				has_deposit = d_lush_jungle
				has_deposit = d_fertile_lands
				has_deposit = d_great_river
				has_deposit = d_black_soil
				has_deposit = d_teeming_reef
				has_deposit = d_marvelous_oasis
				has_deposit = d_tropical_island
				has_deposit = d_fungal_forest
				has_deposit = d_natural_farmland
				has_deposit = d_seagrass_shelf
				has_deposit = d_kelp_forest
				has_deposit = d_estuary_meadows
				has_deposit = d_huge_tree
				has_deposit = d_underground_reservoir
			}
		}
	}
	
	effect = {
		custom_tooltip = decision_lithoid_prospect_effects_short
		add_planet_devastation = 25
		hidden_effect = {
			set_planet_flag = planet_lithoid_prospected
			random_deposit = {
				limit = {
					OR = {
						is_deposit_type = d_lichen_fields
						is_deposit_type = d_bountiful_plains
						is_deposit_type = d_rugged_woods
						is_deposit_type = d_green_hills
						is_deposit_type = d_forgiving_tundra
						is_deposit_type = d_boggy_fens
						is_deposit_type = d_nutritious_mudland
						is_deposit_type = d_fungal_caves
						is_deposit_type = d_lush_jungle
						is_deposit_type = d_fertile_lands
						is_deposit_type = d_great_river
						is_deposit_type = d_black_soil
						is_deposit_type = d_teeming_reef
						is_deposit_type = d_marvelous_oasis
						is_deposit_type = d_tropical_island
						is_deposit_type = d_fungal_forest
						is_deposit_type = d_natural_farmland
						is_deposit_type = d_seagrass_shelf
						is_deposit_type = d_kelp_forest
						is_deposit_type = d_estuary_meadows
						is_deposit_type = d_huge_tree
						is_deposit_type = d_underground_reservoir
					}
				}
				remove_deposit = yes
			}
			random_list = {
				3 = {
					add_deposit = d_veiny_cliffs
					add_deposit = d_veiny_cliffs
					modifier = {
						factor = 0
						is_dry = yes
					}
				}
				3 = {
					add_deposit = d_mineral_fields
					add_deposit = d_mineral_fields
				}
				3 = {
					add_deposit = d_prosperous_mesa
					modifier = {
						factor = 0
						is_cold = yes
					}
				}
				3 = {
					add_deposit = d_ore_rich_caverns
					modifier = {
						factor = 0
						is_wet = yes
					}
				}
				1 = {
					add_deposit = d_rich_mountain
					modifier = {
						factor = 0
						is_wet = yes # for balancing purposes only
					}
				}
				1 = {
					add_deposit = d_submerged_ore_veins
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
						}
					}
				}
				6 = {
					add_deposit = d_offshore_fields
					add_deposit = d_offshore_fields
					modifier = {
						factor = 0
						NOT = { has_global_flag = has_new_frontiers_mod }
					}
					modifier = {
						factor = 0
						NOR = {
							has_modifier = "panthalassic_world"
							has_modifier = "atoll_world"
							has_modifier = "eyeball_world"
							has_modifier = "subglacial_world"
						}
					}
				}
				6 = {
					add_deposit = d_abundant_atoll
					modifier = {
						factor = 0
						NOT = { has_global_flag = has_new_frontiers_mod }
					}
					modifier = {
						factor = 0
						NOR = {
							has_modifier = "panthalassic_world"
							has_modifier = "atoll_world"
							has_modifier = "eyeball_world"
						}
					}
				}
				2 = {
					add_deposit = d_rich_lodes
					modifier = {
						factor = 0
						NOT = { has_global_flag = has_new_frontiers_mod }
					}
					modifier = {
						factor = 0
						NOR = {
							is_planet_class = pc_hollow
							is_planet_class = pc_infernal
							is_planet_class = pc_subglacial
							has_modifier = "karstic_world"
						}
					}
				}
			}
			create_message = {
				type = MESSAGE_TYPE_PLANET_PROSPECTED
				localization = MESSAGE_PLANET_PROSPECTED
				days = 30
				target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}				
				variable = {
					type = name
					localization = DEPOSIT
					scope = last_added_deposit
				}
			}
		}
	}
	
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			num_pops < 20
		}
	}	
}

decision_fungoid_prospect = {
	owned_planets_only = yes
	icon = decision_prospect
	enactment_time = 360
	resources = {
		category = decisions
		cost = {
			energy = 1000
		}
	}
	
	potential = {
		is_homeworld = no
		is_artificial = no
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_hive }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_relic }
		owner = {
			is_fungoid_empire = yes
		}
		NOT = { has_modifier = planet_fungoid_prospect }
	}
	
	allow = {
	}
	
	effect = {
		custom_tooltip = decision_fungoid_prospect_effects_short
		add_modifier = { modifier = planet_fungoid_prospect days = -1 }
		hidden_effect = {
			random_list = {
				3 = {
					add_deposit = d_bountiful_plains
					add_deposit = d_bountiful_plains
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_nutritious_mudland
					add_deposit = d_nutritious_mudland
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
							is_planet_class = pc_gaia
						}
					}
				}
				3 = {
					add_deposit = d_lichen_fields
					add_deposit = d_lichen_fields
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_wet = yes
							is_planet_class = pc_gaia
						}
					}
				}
				3 = {
					add_deposit = d_forgiving_tundra
					add_deposit = d_forgiving_tundra
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_wet = yes
							is_planet_class = pc_nuked
							is_planet_class = pc_gaia
						}
					}
				}
				3 = {
					add_deposit = d_rugged_woods
					add_deposit = d_rugged_woods
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_green_hills
					add_deposit = d_green_hills
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_boggy_fens
					add_deposit = d_boggy_fens
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
							is_planet_class = pc_gaia
						}
					}
				}
				3 = {
					add_deposit = d_lush_jungle
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_fungal_caves
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_wet = yes
						}
					}
				}
				3 = {
					add_deposit = d_marvelous_oasis
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_great_river
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_fertile_lands
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_tropical_island
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_teeming_reef
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_marvelous_oasis
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_tropical_island
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_black_soil
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_fungal_forest
					modifier = {
						factor = 0
						is_cold = no
					}
				}
				2 = {
					add_deposit = d_natural_farmland
					modifier = {
						factor = 0
						NOT = { is_planet_class = pc_gaia }
					}
				}
			}
			create_message = {
				type = MESSAGE_TYPE_PLANET_PROSPECTED
				localization = MESSAGE_PLANET_PROSPECTED
				days = 30
				target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}				
				variable = {
					type = name
					localization = DEPOSIT
					scope = last_added_deposit
				}
			}
		}
	}
	
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			num_pops < 20
			NOT = { has_designation = col_farming }
		}
		modifier = {
			factor = 10
			has_designation = col_farming
		}
	}	
}

decision_plantoid_prospect = {
	owned_planets_only = yes
	icon = decision_prospect
	enactment_time = 360
	resources = {
		category = decisions
		cost = {
			energy = 1000
		}
	}
	
	potential = {
		is_homeworld = no
		is_artificial = no
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_hive }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_relic }
		owner = {
			is_plantoid_empire = yes
		}
		NOT = { has_planet_flag = planet_plantoid_prospect }
	}
	
	allow = {
		exists = owner
		owner = { has_technology = tech_eco_simulation }
	}
	
	effect = {
		if = {
			limit = { has_modifier = bleak_planet }
			remove_modifier = bleak_planet
		}
		else_if = {
			limit = { has_modifier = irradiated_planet }
			remove_modifier = irradiated_planet
		}
		else_if = {
			limit = { NOT = { has_modifier = lush_planet } }
			add_modifier = { modifier = lush_planet days = -1 }
		}
		else_if = {
			limit = { NOT = { has_modifier = natural_beauty } }
			add_modifier = { modifier = natural_beauty days = -1 }
		}
		custom_tooltip = decision_fungoid_prospect_effects_short
		hidden_effect = {
			set_planet_flag = planet_plantoid_prospect
			random_list = {
				3 = {
					add_deposit = d_bountiful_plains
					add_deposit = d_bountiful_plains
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_nutritious_mudland
					add_deposit = d_nutritious_mudland
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
							is_planet_class = pc_gaia
						}
					}
				}
				3 = {
					add_deposit = d_lichen_fields
					add_deposit = d_lichen_fields
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_wet = yes
							is_planet_class = pc_gaia
						}
					}
				}
				3 = {
					add_deposit = d_forgiving_tundra
					add_deposit = d_forgiving_tundra
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_wet = yes
							is_planet_class = pc_nuked
							is_planet_class = pc_gaia
						}
					}
				}
				3 = {
					add_deposit = d_rugged_woods
					add_deposit = d_rugged_woods
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_green_hills
					add_deposit = d_green_hills
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_boggy_fens
					add_deposit = d_boggy_fens
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
							is_planet_class = pc_gaia
						}
					}
				}
				3 = {
					add_deposit = d_lush_jungle
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_fungal_caves
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_wet = yes
						}
					}
				}
				3 = {
					add_deposit = d_marvelous_oasis
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_great_river
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_fertile_lands
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				3 = {
					add_deposit = d_tropical_island
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_teeming_reef
					modifier = {
						factor = 0
						OR = {
							is_dry = yes
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_marvelous_oasis
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_wet = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_tropical_island
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_black_soil
					modifier = {
						factor = 0
						OR = {
							is_cold = yes
							is_planet_class = pc_nuked
						}
					}
				}
				2 = {
					add_deposit = d_fungal_forest
					modifier = {
						factor = 0
						is_cold = no
					}
				}
				2 = {
					add_deposit = d_natural_farmland
					modifier = {
						factor = 0
						NOT = { is_planet_class = pc_gaia }
					}
				}
			}
			create_message = {
				type = MESSAGE_TYPE_PLANET_PROSPECTED
				localization = MESSAGE_PLANET_PROSPECTED
				days = 30
				target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}				
				variable = {
					type = name
					localization = DEPOSIT
					scope = last_added_deposit
				}
			}
		}
	}
	
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			num_pops < 20
			NOT = { has_designation = col_farming }
		}
		modifier = {
			factor = 10
			has_designation = col_farming
		}
	}
}

decision_clean_up_lithoid = {
	owned_planets_only = yes
	icon = decision_arid_planet

	enactment_time = 720
	resources = {
		category = decisions
		cost = {
			unity = 1000
			energy = 3000
			minerals = 3000
		}
	}
	
	potential = {
		owner = {
			NOT = { has_origin = origin_lithoid }
		}
		OR = {
			has_deposit = d_lithoid_crater
			has_deposit = d_lithoid_crater_colony
			has_modifier = lithoid_crater
		}
	}
	
	allow = {
		exists = owner
		owner = {
			has_technology = tech_ecological_adaptation
		}
	}
	
	effect = {
		custom_tooltip = decision_clean_up_lithoid_effects
		hidden_effect = {
			remove_deposit = d_lithoid_crater
			remove_deposit = d_lithoid_crater_colony
			remove_modifier = lithoid_crater
		}
	}
	
	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			owner = { is_robot_empire = yes }
		}
	}
}

hire_corp_mercs = {
	owned_planets_only = yes
	icon = decision_martial_law

	enactment_time = 90
	resources = {
		category = decisions
		cost = {
			energy = 1500
		}
	}
	
	potential = {
		has_branch_office = yes
		exists = branch_office_owner
		OR = {
			has_holding = { holding = building_military_contractors owner = branch_office_owner }
			has_holding = { holding = building_pirate_haven owner = branch_office_owner }
		}
	}
	
	effect = {
		custom_tooltip = decision_hire_corp_mercs_effects
		hidden_effect = {
			branch_office_owner = {
				owner_species = { save_event_target_as = mercenary_enclave_species }
				add_resource = { energy = 1500 }
				if = {
					limit = { has_valid_civic = civic_private_military_companies }
					add_resource = { energy = 500 }
				}
				create_message = {
					type = MESSAGE_TYPE_MERC_ARMY_HIRED
					localization = MESSAGE_MERC_ARMY_HIRED
					days = 30
					target = capital_scope
					variable = {
						type = name
						localization = COUNTRY
						scope = root.owner
					}
				}
			}
			owner = {
				create_fleet = {
					effect = {
						set_owner = root
						while = {
							count = 10
							create_army_transport = {
								army_type = "mercenary_army"
								army_name = "military_contractors"
								species = event_target:mercenary_enclave_species
							}
						}
						set_location = root
					}
				}
			}
			create_message = {
				type = MESSAGE_TYPE_HIRED_MERC_ARMY
				localization = MESSAGE_HIRED_MERC_ARMY
				days = 30
				target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}
			}
		}
	}
	
	ai_weight = {
		weight = 2
		modifier = {
			factor = 0.5
			owner = { is_at_war = no }
		}
		modifier = {
			factor = 0.5
			owner = { is_xenophile = yes }
		}
		modifier = {
			factor = 0
			owner = { is_anti_corp = yes }
		}
		modifier = {
			factor = 0
			owner = { is_pacifist = yes }
		}
		modifier = {
			factor = 0
			owner = {
				OR = {
					AND = {
						years_passed < 40
						count_owned_army = {
							count >= 10
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 60
						count_owned_army = {
							count >= 20
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 80
						count_owned_army = {
							count >= 30
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 80
						count_owned_army = {
							count >= 40
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 100
						count_owned_army = {
							count >= 50
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 120
						count_owned_army = {
							count >= 60
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 140
						count_owned_army = {
							count >= 70
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 160
						count_owned_army = {
							count >= 80
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					count_owned_army = {
						count >= 100
						limit = {
							OR = {
								army_type = mercenary_army
								army_type = mecha_army
							}
						}
					}
				}
			}
		}
	}
}

hire_corp_mecha_mercs = {
	owned_planets_only = yes
	icon = decision_martial_law_machine

	enactment_time = 90
	resources = {
		category = decisions
		cost = {
			energy = 3000
		}
	}
	
	potential = {
		has_branch_office = yes
		exists = branch_office_owner
		branch_office_owner = {
			has_technology = "tech_droid_workers"
			has_technology = "tech_self_aware_logic"
			has_technology = "tech_combat_computers_2"
		}
		OR = {
			has_holding = { holding = building_military_contractors owner = branch_office_owner }
			has_holding = { holding = building_pirate_haven owner = branch_office_owner }
		}
	}
	
	effect = {
		custom_tooltip = decision_hire_corp_mecha_mercs_effects
		hidden_effect = {
			branch_office_owner = {
				owner_species = { save_event_target_as = mercenary_enclave_species }
				add_resource = { energy = 3000 }
				if = {
					limit = { has_valid_civic = civic_private_military_companies }
					add_resource = { energy = 1000 }
				}
				create_message = {
					type = MESSAGE_TYPE_MERC_ARMY_HIRED
					localization = MESSAGE_MERC_ARMY_HIRED
					days = 30
					target = capital_scope
					variable = {
						type = name
						localization = COUNTRY
						scope = root.owner
					}
				}
			}
			owner = {
				create_fleet = {
					effect = {
						set_owner = root
						while = {
							count = 10
							create_army_transport = {
								army_type = "mecha_army"
								army_name = "mechawarrior_contractors"
								species = event_target:mercenary_enclave_species
							}
						}
						set_location = root
					}
				}
			}
			create_message = {
				type = MESSAGE_TYPE_HIRED_MERC_ARMY
				localization = MESSAGE_HIRED_MERC_ARMY
				days = 30
				target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}
			}
		}
	}
	
	ai_weight = {
		weight = 2
		modifier = {
			factor = 0.5
			owner = { is_at_war = no }
		}
		modifier = {
			factor = 0.5
			owner = { is_xenophile = yes }
		}
		modifier = {
			factor = 0
			owner = { is_anti_corp = yes }
		}
		modifier = {
			factor = 0
			owner = { is_pacifist = yes }
		}
		modifier = {
			factor = 0
			owner = {
				NOR = {
					has_ai_personality_behaviour = robot_exploiter
					has_ai_personality_behaviour = robot_liberator
				}
			}
		}
		modifier = {
			factor = 0
			owner = {
				OR = {
					AND = {
						years_passed < 40
						count_owned_army = {
							count >= 10
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 60
						count_owned_army = {
							count >= 20
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 80
						count_owned_army = {
							count >= 30
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 80
						count_owned_army = {
							count >= 40
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 100
						count_owned_army = {
							count >= 50
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 120
						count_owned_army = {
							count >= 60
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 140
						count_owned_army = {
							count >= 70
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					AND = {
						years_passed < 160
						count_owned_army = {
							count >= 80
							limit = {
								OR = {
									army_type = mercenary_army
									army_type = mecha_army
								}
							}
						}
					}
					count_owned_army = {
						count >= 100
						limit = {
							OR = {
								army_type = mercenary_army
								army_type = mecha_army
							}
						}
					}
				}
			}
		}
	}
}

### Species ###
decision_trait_burrow = {
	owned_planets_only = yes
	icon = decision_prospect
	
	enactment_time = 360
	resources = {
		category = decisions
		cost = {
			energy = 500
			minerals = 500
		}
	}
	
	potential = {
		is_artificial = no
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_city }
		NOT = { has_deposit = d_trait_burrow }
		any_owned_pop = {
			OR = {
				has_trait = trait_burrowing
				has_trait = trait_burrowing_origin
			}
		}
	}
	
	allow = {
		custom_tooltip = {
			fail_text = decision_trait_burrow_need_five_burrowers
			count_owned_pop = {
				limit = {
					OR = {
						has_trait = trait_burrowing
						has_trait = trait_burrowing_origin
					}
				}
				count >= 5
			}
		}
	}
	
	effect = {
		add_deposit = d_trait_burrow
		hidden_effect = {
			create_message = {
				type = MESSAGE_TYPE_PLANET_PROSPECTED
				localization = MESSAGE_PLANET_PROSPECTED
				days = 30
				target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}
				variable = {
					type = name
					localization = DEPOSIT
					scope = last_added_deposit
				}
			}
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

### Government ###
decision_subterranean_expansion = {
	owned_planets_only = yes
	icon = decision_mastery_of_nature

	#enactment_time = 720 # do everything by event
	resources = {
		category = decisions
		cost = {
			influence = 50
			energy = 2000
			minerals = 2000
		}
	}
	
	potential = {
		exists = owner
		owner = {
			has_origin = origin_subterranean_evolution
		}
		is_artificial = no
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_city }
		NOT = { has_planet_flag = seismic_disturbance }
		NOT = { has_planet_flag = planet_sub_expanded }
	}
	
	effect = {
		custom_tooltip = decision_subterranean_expansion_effects
		hidden_effect = {
			set_planet_flag = planet_sub_expanded
			random_list = {
				1 = {
					planet_event = { id = civicsexpanded.1 days = 170 random = 30 }
					modifier = {
						factor = 0
						has_deposit = d_underground_farm
					}
					modifier = {
						factor = 0
						exists = owner
						owner = {
							OR = {
								is_machine_empire = yes
								is_lithoid_empire = yes
							}
							country_uses_food = no
						}
						NAND = {
							has_deposit = d_underground_mine
							has_deposit = d_underground_generator
						}
					}
				}
				2 = {
					planet_event = { id = civicsexpanded.3 days = 170 random = 30 }
					modifier = {
						factor = 0
						has_deposit = d_underground_mine
					}
				}
				2 = {
					planet_event = { id = civicsexpanded.5 days = 170 random = 30 }
					modifier = {
						factor = 0
						has_deposit = d_underground_generator
					}
				}
			}
		}
	}
	
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			num_pops < 20
		}
		modifier = {
			factor = 0
			colony_age < 10
		}
	}	
}

decision_subterranean_expansion_removal = {
	owned_planets_only = yes
	icon = decision_resources

	enactment_time = 720
	resources = {
		category = decisions
		cost = {
			energy = 4000
			minerals = 4000
		}
	}
	
	potential = {
		OR = {
			has_deposit = d_underground_farm
			has_deposit = d_underground_mine
			has_deposit = d_underground_generator
		}
		exists = owner
		owner = { has_ascension_perk = ap_arcology_project }
	}
	
	effect = {
		custom_tooltip = decision_subterranean_expansion_removal_effects
		hidden_effect = {
			remove_deposit = d_underground_farm
			remove_deposit = d_underground_mine
			remove_deposit = d_underground_generator
			remove_planet_flag = planet_sub_expanded
			remove_planet_flag = planet_sub_expanded_mastery
		}
	}
	
	ai_weight = {
		weight = 0
	}	
}

decision_hunting_preserve = {
	owned_planets_only = yes

	enactment_time = 120
	resources = {
		category = decisions
		cost = {
			energy = 100
		}
	}
	
	potential = {
		is_artificial = no
		NOT = {
			is_planet_class = pc_city
			is_planet_class = pc_machine
			is_planet_class = pc_relic
			is_planet_class = pc_hive
		}
		NOT = { has_deposit = d_hunting_preserve }
		exists = owner
		owner = { has_origin = origin_natural_hunters }
		OR = {
			has_deposit = d_dangerous_wildlife_blocker
			has_planet_flag = has_dangerous_wildlife
			has_modifier = dangerous_wildlife
		}
	}
	
	effect = {
		add_deposit = d_hunting_preserve
		random_deposit = {
			limit = {
				is_deposit_type = d_dangerous_wildlife_blocker
			}
			clear_blocker = yes
		}
		hidden_effect = {
			create_message = {
				type = MESSAGE_TYPE_PLANET_PROSPECTED
				localization = MESSAGE_PLANET_PROSPECTED
				days = 30
				target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}
				variable = {
					type = name
					localization = DEPOSIT
					scope = last_added_deposit
				}
			}
		}
	}
	
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			num_pops < 6
		}
	}	
}

decision_remove_hunting_preserve = {
	owned_planets_only = yes
	icon = decision_politics

	enactment_time = 120
	resources = {
		category = decisions
		cost = {
			energy = 200
		}
	}
	
	potential = {
		exists = owner
		OR = {
			owner = { NOT = { has_origin = origin_natural_hunters } }
			habitable_structure = yes
			is_planet_class = pc_machine
			is_planet_class = pc_city
		}
		has_deposit = d_hunting_preserve
	}
	
	effect = {
		remove_planet_flag = hunting_preserve_added
		remove_deposit = d_hunting_preserve
	}
	
	ai_weight = {
		weight = 0
	}	
}

decision_nature_preserve = {
	owned_planets_only = yes
	icon = decision_animal_wildlife
	
	enactment_time = 120
	resources = {
		category = decisions
		cost = {
			energy = 100
			unity = 100
		}
	}
	
	potential = {
		is_artificial = no
		NOT = { is_planet_class = pc_machine }
		NOT = { is_planet_class = pc_city }
		NOT = { has_deposit = d_nature_preserve }
		NOT = { has_global_flag = EcologyMod_active }
		exists = owner
		owner = { has_civic = civic_environmentalist }
	}
	
	allow = {
		free_district_slots > 0
	}
	
	effect = {
		add_deposit = d_nature_preserve
		hidden_effect = {
			create_message = {
				type = MESSAGE_TYPE_PLANET_PROSPECTED
				localization = MESSAGE_PLANET_PROSPECTED
				days = 30
				target = this
				variable = {
					type = name
					localization = PLANET
					scope = this
				}
				variable = {
					type = name
					localization = DEPOSIT
					scope = last_added_deposit
				}
			}
		}
	}
	
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			num_pops < 6
		}
	}
}

decision_remove_nature_preserve = {
	owned_planets_only = yes
	icon = decision_politics
	
	enactment_time = 120
	resources = {
		category = decisions
		cost = {
			energy = 100
		}
	}
	
	potential = {
		exists = owner
		OR = {
			owner = { NOT = { has_civic = civic_environmentalist } }
			habitable_structure = yes
			is_planet_class = pc_machine
			is_planet_class = pc_city
		}
		has_deposit = d_nature_preserve
	}
	
	effect = {
		remove_deposit = d_nature_preserve
	}
	
	ai_weight = {
		weight = 0
	}
}

decision_corvee_public_works = {
	owned_planets_only = yes
	icon = decision_politics
	
	resources = {
		category = decisions
		cost = {
			energy = 500
		}
	}
	
	potential = {
		exists = owner
		owner = { has_civic = civic_corvee_system }
		NOT = { has_modifier = corvee_public_works }
	}
	
	effect = {
		add_modifier = {
			modifier = "corvee_public_works"
			days = 3600
		}
	}
	
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			NOR = {
				free_district_slots > 0
				free_building_slots > 0
				any_owned_pop = {
					is_unemployed = yes
				}
			}
		}
	}
}

# Expel Excess Population
decision_expel_population_gestalt = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_expel_population

	resources = {
		category = decisions
		cost = {
			unity = 250
		}
	}

	potential = {
		owner = { 
			is_gestalt = yes
			pop_percentage = {
				percentage >= 0.20
				limit = {
					is_free_resident_pop_gestalt = yes
				}
			}
		}
		any_owned_pop = { is_free_resident_pop_gestalt = yes }
	}


	allow = {
		NOT = { has_modifier = planet_population_expelled }
	}

	effect = {
		custom_tooltip = decision_expel_population_effects
		add_modifier = { modifier = "planet_population_expelled" days = 1800 }
		hidden_effect = {
			while = {
				count = 10
				random_owned_pop = {
					limit = {
						is_free_resident_pop_gestalt = yes
					}
					if = {
						limit = { is_valid_refugee_pop = yes }
						save_event_target_as = refugee_pop #Must be saved for refugee_pop_effect to work
						refugee_pop_effect = yes					
					}
					else = {
						kill_pop = yes
					}
				}
			}		
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			owner = {
				pop_percentage = {
					percentage < 0.40
					limit = {
						is_free_resident_pop_gestalt = yes
					}
				}
				NOR = {
					has_valid_civic = civic_harm_hive
					has_valid_civic = civic_harm_machine
				}
			}
		}
	}
}

# Lithoid Hibernation
decision_hibernating_lithoids = {
	owned_planets_only = yes
	sound = event_administrative_work

	resources = {
		category = decisions
		cost = {
			unity = 250
			minerals = 250
		}
	}

	potential = {
		owner = { 
			is_lithoid_empire = yes 
			NOT = { has_policy_flag = population_controls_not_allowed }
		}
	}


	allow = {
		owner = {
			NOT = { has_policy_flag = population_controls_not_allowed }
		}
		NOT = { has_modifier = planet_population_hibernation }
		any_owned_pop = {
			is_lithoid = yes
			is_unemployed = yes
		}
	}

	effect = {
		custom_tooltip = decision_hibernating_lithoids_effects
		add_modifier = { modifier = "planet_population_hibernation" days = 1800 }		
		hidden_effect = {
			while = {
				count = 10
				limit = {
					any_owned_pop = {
						is_lithoid = yes
						is_unemployed = yes
					}
				}
				random_owned_pop = {
					limit = {
						is_lithoid = yes
						is_unemployed = yes
					}
					kill_pop = yes
				}
				add_deposit = d_sleeping_lithoid
			}		
		}
	}

	ai_weight = {
		weight = 0
	}
}

decision_memorialist_excavation = {
	owned_planets_only = yes
	icon = decision_archaeological_dig
	sound = event_dig_site
	enactment_time = 360
	resources = {
		category = decisions
		cost = {
			energy = 1000
		}
	}
	
	potential = {
		has_ancrel = yes
		NOT = { has_planet_flag = memorialist_excavated }
		OR = {
			is_planet_class = pc_nuked
			is_planet_class = pc_irradiated
			is_planet_class = pc_relic
		}
		owner = {
			OR = {
				has_valid_civic = civic_memorialist
				has_valid_civic = civic_memorialist_corp
				has_valid_civic = civic_hive_memorialist
				has_valid_civic = civic_machine_memorialist
			}
		}
	}
	
	allow = {
		always = yes
	}
	
	effect = {
		custom_tooltip = decision_memorialist_excavation_effects_short
		hidden_effect = {
			set_planet_flag = memorialist_excavated
			medium_artifact_reward = yes
		}
		create_message = {
			type = MESSAGE_TYPE_PLANET_PROSPECTED
			localization = MESSAGE_PLANET_EXCAVATED
			days = 30
			target = this
			variable = {
				type = name
				localization = PLANET
				scope = this
			}
		}
	}
	
	ai_weight = {
		weight = 1
	}	
}

decision_transplant_sacred_tree = {
	owned_planets_only = yes
	sound = event_laboratory_sound
	icon = decision_resources

	enactment_time = 180

	resources = {
		category = decisions
		cost = {
			food = 500
		}
	}

	potential = {
		owner = { has_origin = origin_sacred_tree }
		NOR = {
			has_deposit = d_tree_of_life_colony
			has_deposit = d_tree_of_life_home
		}
	}

	allow = {

	}

	effect = {
		hidden_effect = { remove_modifier = no_lifetree }
		add_deposit = d_tree_of_life_colony
		hidden_effect = { spawn_caretaker_effect = yes }
	}

	ai_weight = {
		weight = 10
	}
}

decision_build_master_relay = {
	owned_planets_only = yes
	sound = event_laboratory_sound
	icon = decision_resources

	enactment_time = 180

	resources = {
		category = decisions
		cost = {
			minerals = 500
		}
	}

	potential = {
		owner = { has_origin = origin_master_computer }
		NOR = {
			has_deposit = d_master_computer
			has_deposit = d_master_computer_colony
		}
	}

	allow = {

	}

	effect = {
		hidden_effect = { remove_modifier = no_master_computer }
		add_deposit = d_master_computer_colony
	}

	ai_weight = {
		weight = 10
	}
}

decision_rebuilt_master_computer = {
	owned_planets_only = yes
	sound = event_laboratory_sound
	icon = decision_resources

	enactment_time = 180

	resources = {
		category = decisions
		cost = {
			minerals = 2000
		}
	}

	potential = {
		owner = {
			has_origin = origin_master_computer
			has_modifier = no_master_computer_country
		}
		is_capital = yes
	}

	allow = {

	}

	effect = {
		hidden_effect = {
			remove_deposit = d_master_computer_colony
		}
		add_deposit = d_master_computer
		hidden_effect = {
			owner = {
				remove_country_flag = master_computer_destroyed
				remove_modifier = no_master_computer_country
			}
		}
	}

	ai_weight = {
		weight = 10
	}
}

### Ascension ###
decision_train_telepaths = {
	owned_planets_only = yes
	icon = decision_politics
	
	enactment_time = 720
	resources = {
		category = decisions
		cost = {
			energy = 500
			sr_zro = 50
		}
	}
	
	potential = {
		exists = owner
		owner = { has_country_flag = built_one_psi_corps }
		NOT = { has_planet_flag = built_one_psi_corps }
	}
	
	allow = {
		has_upgraded_capital = yes
		NOT = { has_modifier = resort_colony }
		NOT = { has_modifier = slave_colony }
	}
	
	effect = {
		custom_tooltip = decision_trait_telepaths_effects_tooltip
		hidden_effect = {
			set_planet_flag = built_one_psi_corps
		}
	}
	
	ai_weight = {
		weight = 1
		modifier = {
			factor = 0
			planet_crime < 1
			planet_stability > 90
		}
		modifier = {
			factor = 0
			NOT = {
				any_owned_pop = {
					OR = {
						has_trait = trait_latent_psionic
						has_trait = trait_psionic
					}
				}
			}
		}
		modifier = {
			factor = 10
			or = {
				planet_crime > 10
				planet_stability < 50			
			}
		}
	}
}

decision_perfect_world = {
	owned_planets_only = yes
	icon = decision_politics
	
	enactment_time = 720
	resources = {
		category = decisions
		cost = {
			energy = 1000
			influence = 25
		}
	}
	
	potential = {
		exists = owner
		owner = { has_ascension_perk = ap_world_shaper }
		NOT = { has_modifier = world_shaper_mod }
		is_terraforming = no # will be added by terraforming
	}
	
	allow = {
		custom_tooltip = {
			fail_text = must_be_ideal_world
			OR = {
				is_gaia = yes
				is_hive = yes
				is_machine = yes
				is_ideal_planet_class = { who = root.owner status = yes }
			}
		}
	}
	
	effect = {
		add_modifier = { modifier = world_shaper_mod days = -1 }
	}
	
	ai_weight = {
		weight = 10
	}
}